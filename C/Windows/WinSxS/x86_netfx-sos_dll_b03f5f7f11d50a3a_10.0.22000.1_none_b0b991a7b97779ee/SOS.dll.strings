----------------
-----------------------
-----------------------------
------------------------------
----------------------------------
--------------------------------------
---------------------------------------
---------------------------------------------
------------------------------------------------------------
------------------------------------------------------------------------------
-------------------------------------------------------------------------------
--------------------------------------------------------------------------------------
     
-----------------------------      -----------------------------
        
                          
                                      PreEmptive   GC Alloc           Lock
                                  detailed logs are generated.  The maximum 
                                  isn't specified)
                                  specified)
                                  specified.  The higher the number the more
                                  This is also the default value if the key 
                                  value is decimal 10)
                                 H
                       [<pseudo-register number for result>]
                      like String                    
                      of the element using !DumpObj and !DumpVC format.
                      print fields of the elements. Useful for array of objects 
                      Specify from which index the command shows the elements.
                      Specify how many elements to show.
                  %8s     %8s
                  String
                 [<Pseudo-register number>]
                 [-create | -create2] 
                 <Exception> 
                ...
                <member address="0x00b75088" />
                For example, an IA64 dump file must be debugged on an IA64
                in the version directory
                machine.
                mscordacwks_<arch>_<arch>_<version>.dll is on your symbol path.
            ...
            ...                                  ...
            [E%cP-%02XH] 
            [E%cP+%02XH] 
            </object>
            <object address="0x00b73030" typeid="1" size="300"/>
            <object address="0x00b75054" typeid="5" size="20">
            <root kind="handle" address="0x00a73ff0"/>
            <root kind="stack" address="0x0069f0e0"/>
            <type id="1" name="System.String">
            2) the file mscordacwks.dll that matches your version of mscorwks.dll is 
            3) or, if you are debugging a dump file, verify that the file 
            4) you are debugging on the same architecture as the dump file.
            iptrMask = %02X
            thisptr in 
            thisptr in %s
           !soe -derived System.IOException 4;
           .if(@$t3==1 || @$t4==1) { .echo 'stop' } .else {g}"
           concurrent GC and server GC), Debugger helper threads, Finalizer 
           output. Example of special threads include: GC threads (in 
           so they might not be shown in the first part of the command's 
           threads created by CLR. Those threads might not be managed threads 
           threads, AppDomain Unload threads, and Threadpool timer threads.
          !Name2EE *!System.String
          (During plan phase, the heap is often not walkable because objects 
          [-max <size>] 
          [-min <size>] 
          [-mt <MethodTable address>] 
          [-short]
          [start [end]]
          [-startAtLowerBound]
          [-strings] 
          [-thinlock] 
          [-type <partial type name>] 
          adding the size to the start address given as parameters.) 
          address range, !DumpHeap will start its walk from the beginning of 
          are being moved. In this case, DumpHeap may report spurious errors, 
          command for automation.
          documentation for more info)
          Force heap walk to begin at lower bound of a supplied address range.
          good object as the lower bound for this to work. Display memory at 
          in particular bad objects. It may be possible to traverse more of 
          memcopy, You may also be able to find the next object's address by 
          MT    Field   Offset                 Type       Attr    Value Name
          range, it will stop before displaying the part of the heap in which 
          string provided. 
          table (use !dumpmt to verify). If the GC is currently in a call to 
          the address of the bad object to manually find the next method 
          the heap after the reported bad object. Even if you specify an 
          the heap by default. If it finds a bad object before the specified 
          to easily pipe output from the command to another debugger 
          walk at the specified lower bound. You must supply the address of a 
          you are interested. This switch will force !DumpHeap to begin its 
         (((((                  H
         h((((                  H
        ....
        {                                    {
        }                                    }
        </objects>
        </roots>
        </types>
        <DynamicMethodDesc pointer> |
        <MethodDesc pointer>
        <objects>
        <roots>
        <types>
        call %d [ 
        call [ 
        kill args %2d
        lock(r2)                             lock(r1)
        o = (Object *) o + o.Size();
        o.ValidateAllFields();
        pop %2d 
        pop %d
        push
        push non-ptr (%d)
        push ptr %2d
        reg %s becoming %s
       !bpmd myapp.exe MyApp.Main
       .loadby sos mscorwks
       ID OSID ThreadOBJ    State     GC       Context       Domain   Count APT%s Exception
       OSID     Special thread type
       push %d
       sxe -c "" clrn
       use * for module_name to search all loaded modules
       you can pass * for module_name to search all modules
      MT    Count TotalSize Class Name
      MT    Field   Offset                 Type       Attr    Value Name
      MT    Field   Offset                 Type  VT     Attr    Value Name
      MT    TypeDef Name
      MT    TypeRef Name
     "CLR notification: module 'mscorlib' loaded"
     (C:\bugs\225271\arraytest.exe)
     ID     TEB   APT    APTId CallerTID Context
     IL associated with the dynamic method.
     just pass it as the first argument.
     see the breakpoint listed.
     the pointer as the first argument. 
     then
    ".loadby sos mscorwks"
    "CLR notification: module 'mscorlib' loaded"
    "lm v m mscorwks"
    "sxd clrn"    
    "sxe clrn"
    %p %p %S
    %S
    ...
    {
    {                                    {
    }
    }                                    }
    </gcheap>
    <gcheap>
    <member address="0x%p"/>
    >> Domain:Value 
    >> Thread:Value
    5b9a628c  4000001        0         System.Int32   instance        2 x
    5b9a628c  4000001        0         System.Int32   instance        3 x
    5b9a628c  4000001        0         System.Int32   instance        4 x
    5b9a628c  4000001        0         System.Int32   instance        5 x
    5b9a628c  4000001        0         System.Int32   instance        6 x
    5b9a628c  4000002        4         System.Int32   instance        4 y
    5b9a628c  4000002        4         System.Int32   instance        6 y
    5b9a628c  4000002        4         System.Int32   instance        8 y
    5b9a628c  4000002        4         System.Int32   instance       10 y
    5b9a628c  4000002        4         System.Int32   instance       12 y
    5b9a628c  4000003        8         System.Int32   instance        6 z
    5b9a628c  4000003        8         System.Int32   instance        9 z
    5b9a628c  4000003        8         System.Int32   instance       12 z
    5b9a628c  4000003        8         System.Int32   instance       15 z
    5b9a628c  4000003        8         System.Int32   instance       18 z
    Addr     Size Followed by
    APPDOMAIN    0x02000000
    argument   count   =   4
    arguments size     = %2u DWORDs
    ASSERT       0x00010000
    BCL          0x40000000
    bp mscorwks!EEStartup "g @$ra"
    callee-saved regs  = 
    CLASSLOADER  0x00000400
    Clock frequency  = %5.3f GHz
    CODESHARING  0x04000000
    CORDB        0x00000200
    CORPROF      0x00000800
    CurrentTotalLogChunk = %d
    DBGALLOC     0x00002000
    double align       = %s  
    double align       = no
    ebp frame          = %s  
    ebp frame          = yes
    edit & continue    = no
    edit & continue    = yes
    EEClass: 03ef1698
    EEMEM        0x00000080
    EH           0x00004000
    ENC          0x00008000
    epilog        at   %04X
    epilog        at   002E
    epilog      end    = %s  
    epilog      end    = yes
    epilog      size   =   8
    epilog      size   = %2u 
    epilog     count   =   1
    epilog     count   = %2u 
    epilog #%2u    at   %04X
    exception handlers = no
    exception handlers = yes
    facilitiesToLog  = 0x%x
    Fields:
    fully interruptible= %s  
    fully interruptible=yes
    GC           0x00000001
    GCALLOC      0x00000100
    GCINFO       0x00000002
    GCROOTS      0x00080000
    GuardStack cookie  = [%s%u]
    IJW          0x00400000
    INTEROP      0x00100000
    JIT          0x00000008
    Last message time  %S
    levelToLog       = %d
    LOADER       0x00000010
    local alloc        = no
    localloc           = yes
    LOCALS:
    lock(MyObject)
    lock(r1)                             lock(r2)
    LOCKS        0x20000000
    MARSHALER    0x00200000
    MaxLogSizePerThread = 0x%x (%d)
    MaxTotalLogSize = 0x%x (%d)
    METADATA     0x00000020
    method      size   = %04X
    method      size   = 0036
    MethodTable 03e40f4c
    Name: Value
    none  
    o = firstobject;
    PARAMETERS:
    profiler callbacks = yes
    prolog      size   =  19
    prolog      size   = %2u 
    REMOTING     0x00001000
    Resource r1 = new Resource();
    Resource r2 = new Resource();
    saved reg.  mask   = 000B
    SECURITY     0x10000000
    security check     = no
    security check obj = yes
    Size: 20(0x14) bytes
    SP       IP       Function
    stack frame size   =   1
    stack frame size   = %2u DWORDs
    Start time         %S
    STARTUP      0x01000000
    STORE        0x08000000
    STUBS        0x00000004
    SYNC         0x00000040
    Sync region = [%u,%u]
    THREADPOOL   0x00040000
    ThreadsWithLogs  = %d
    Total elapsed time %5.3f sec
    Unable to read FullDllName address at %p
    Unable to read InMemoryOrderModuleList address at %p
    Unable to read PEB_LDR_DATA address at %p
    untracked count    =   5
    untracked count    = %2u 
    var ptr tab count  =   0
    var ptr tab count  = %2u 
    varargs            = no
    varargs            = yes
    VERIFIER     0x00020000
    while(o != endobject)
    ZAP          0x00800000
   !StopOnException can be used purely as a predicate in a larger expression.
   !StopOnException -create System.OutOfMemoryException 1
   !StopOnException System.OutOfMemoryException 3
   1. On the stack
   2. Within a GC Handle
   3. In an object ready for finalization
   4. As a member of an object found in 1, 2 or 3 above.
   and set up the breakpoint as a first-chance exception. -create2 would set
   at 
   At the debugger prompt, anytime after loading SOS, type:
   current thread is a System.OutOfMemoryException. Otherwise, $t3 will be set
   If you type:
   isn't loaded yet. What can I do?
   it up as a 2nd-chance exception. 
   maintaining the breakpoint. The -create parameter allows SOS to go ahead
   manually create such predicates, for example:
   such calls together to stop on various exception types. You'll have to 
   switched out by the host, this column will be shown as "<<<<") 
   sxe -c "!soe System.OutOfMemoryException 3; 
   The pseudo-register number (1) indicates that SOS can use register $t1 for
   then register $t3 will be set to 1 if the last thrown exception on the 
   to 0. Using the Windows Debugger scripting language, you could chain 
  %8d
  %8x
  %p 
  (%d)
  [E%s%02XH] a 
  0:000> !dumpil b741dc
  1) If you have a System.Reflection.Emit.DynamicMethod object, just pass
  1) Start the debugger and type: 
  2) g
  2) If you have a DynamicMethodDesc pointer you can use that to print the
  238 001e40ec            3         1 001e4e60   e04   3   00a7a194 Resource
  239 001e4124            3         1 001e5980   ab8   4   00a7a1a4 Resource
  3) If you have an ordinary MethodDesc, you can see the IL for that as well,
  3) You'll get the following notification from the debugger:
  4) Now you can load SOS and use commands. Type
  5) g
  6) You will stop at the start of MyApp.Main. If you type "bl" you will 
  a515f4   14a740 5baf8d28 System.TypedReference
  a51608   14a740 5bb05764 System.Globalization.BaseInfoTable
  a51958   14a740 5bb05b24 System.Globalization.CultureInfo
  a51a44   14a740 5bb06298 System.Globalization.GlobalizationAssembly
  a51de0   14a740 5bb069c8 System.Globalization.TextInfo
  a56b98   14a740 5bb12d28 System.Security.Permissions.HostProtectionResource
  a56bbc   14a740 5baf7248 System.Int32
  a56bd0   14a740 5baf3fdc System.String
  a56cfc   14a740 5baf36a4 System.ValueType
  CacheEntryHeap: 
  DispatchHeap: 
  error getting thread %p, aborting this field
  Error!  integer overflow on numThread 0x%08x
  ID  (sec from start)
  If a token is unresolved, run "!do <addr>" on the addr given
  IL_0000: ldstr 70000002 "Inside invoked method "
  IL_0005: call 6000003 System.Console.WriteLine(System.String)
  IL_000a: ldc.i4.1
  IL_000b: newarr 2000004 "System.Int32"
  IL_0010: stloc.0
  IL_0011: ldloc.0
  IL_0012: ret
  in parenthesis. You can also look at the token table yourself, by
  IndcellHeap: 
  LookupHeap: 
  Module Name
  or    !Name2EE module_name!item_name
  ResolveHeap: 
  running "!DumpArray 00b77388".
  This is dynamic IL. Exception info is not reported at this time.
  Wasted: 0x%x(%lu)bytes.
 !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFG
 !"#$%&'()*+,-./0123456789:;<=>?@abcdefghijklmnopqrstuvwxyz[\]^_`abcdefghijklmnopqrstuvwxyz{|}~
 !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmnopqrstuvwxyz{|}~
 !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`ABCDEFGHIJKLMNOPQRSTUVWXYZ{|}~
 %08x
---------------------------- %d total entries ------------------------------------
 %p:%p
 %p:FailInit
 %p:NotInit 
 %S (%p)
 (%S)
 (%s)
 (%S, mdToken: %08x)
 (%ws)
 (BAD Method)
 (BAD MethodTable)
 (C:\pub\unittest.exe)
 (Dynamic)
 (Finalizer)
 (GC)
 (gcstress)
 (iargs=%02X)
 (iptr)
 (JitHelp: %s)
 (MD: %S)
 (MethodDesc: %p)
 (MT: %S)
 (nested exceptions)
 (Object: %S)
 (stub for %S)
 (Threadpool Completion Port)
 (Threadpool Worker)
 (Unknown function)
 (Unknown VTable)
 .NET Framework
 [%S: %p]
 [%s:%d]
 [ERROR: INVALID TOKEN 0x%8.8X] 
 [ERROR: INVALID TOKEN TYPE 0x%8.8X] 
 [explicit]
 [Frame: %p]
 [hasThis]
 `,dt
 <'dRh
 <Invalid Object> (%p)
 <no information>
 ====> Exception 
 0x%p
 4)dp4)d
 Address       MT     Size
 Address   Domain       MT Type Name
 argMask=%02X
 argOffs(%d) =
- Attempt to initialize the CRT more than once.
- Attempt to use MSIL code from this assembly during native code initialization
 b,dj
 Base Class Array'
 Base Class Descriptor at (
 catch(...)
 CCGGf
 Checked or debug build
 Class Hierarchy Descriptor'
 CLAUSE BEGIN
 Complete Object Locator'
- CRT not initialized
 CurrentLimit: %d
 delete
 delete[]
 -details:             optional. Ask the command to print out details
 Disabled
 Enabled 
 even though you aborted.
 Example output:
 exr@%x
 Fiber   
- floating point support not loaded
 Free
 free
 Free: %d
 GGBBf;
 Idle: %d
----- Interrupted by user -----
 k,dw7j
------------ Last message from thread %x -----------
 -length <length>:    optional, only supported for single dimension array. 
 Low Bit(s) Set
 MaxFree: %d
 MaxLimit: %d
 mdToken: %08x (%ws)
 Microsoft Corporation.  All rights reserved.
 Microsoft Operations Puerto Rico1
 Microsoft Operations Puerto Rico1&0$
 MinLimit: %d
 new[]
----- No thread logs in the image: The stress log was probably not initialized correctly. -----
 -nofields:       optional, only takes effect when -detail is used. Do not 
- not enough space for _onexit/atexit table
- not enough space for arguments
- not enough space for environment
- not enough space for locale information
- not enough space for lowio initialization
- not enough space for stdio initialization
- not enough space for thread data
 null
 orphaned 
 P,d]
 Ph\@'d
 PhT@'d
 pinned
- pure virtual function call
 Qh\@'d
 Qhd@'d
 retail
 retail build
 Rhd@'d
 RhT@'d
 Running: %d
 segment    begin allocated     size
 -start <startIndex>: optional, only supported for single dimension array. 
 ThinLock owner %x (%p) Recursive %x
 'this'
 Total: %d
 Type Descriptor'
- unable to initialize heap
- unable to open console device
- unexpected heap error
- unexpected multithread lock error
 XXX 
! 1 0x%p %d
!040>0
!BPMD <module name> <method name>
!bpmd asks the Windows Debugger to receive CLR Notifications, and waits to
!BPMD does not accept offsets nor parameters in the method name. If there
!bpmd is not supported on a dump file.
!BPMD -md <MethodDesc>
!bpmd myapp.exe G1`1.G
!bpmd myapp.exe G3`3.F
!bpmd 'price, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null' Price.M2
!BPMD provides managed breakpoint support. If it can resolve the method name
!BPMD works equally well with generic types. Adding a breakpoint on a generic 
!CLRStack [-a] [-l] [-p]
!CLRStack, it is a good aid to determining the values of locals and 
!COMState
!COMState lists the com apartment model for each thread, as well as a Context 
!DumpArray 
!DumpAssembly <Assembly address>
!DumpClass <EEClass address>
!DumpDomain [<Domain address>]
!DumpHeap [-stat] 
!DumpHeap is a powerful command that traverses the garbage collected heap, 
!DumpIL <Managed DynamicMethod object> | 
!DumpIL prints the IL code associated with a managed method. We added this
!DumpLog [-addr <addressOfStressLog>] [<Filename>]
!DumpMD <MethodDesc address>
!DumpMethodSig <sigaddr> <moduleaddr>
!DumpModule [-mt] <Module address>
!DumpModule on the Class, MethodTable and Module fields above.
!DumpModule on the fields listed to learn more.
!DumpMT [-MD] <MethodTable address>
!DumpObj [-nofields] <object address>
!DumpRuntimeTypes 
!DumpRuntimeTypes finds all System.RuntimeType objects in the gc heap and 
!DumpSig <sigaddr> <moduleaddr>
!DumpStack [-EE] [top stack [bottom stack]]
!DumpStackObjects [-verify] [top stack [bottom stack]]
!DumpVC <MethodTable address> <Address>
!DumpVC allows you to examine the fields of a value class. In C#, this is a 
!DumpVC is quite a specialized function. Some managed programs make heavy use 
!EEHeap [-gc] [-loader]
!EEHeap enumerates process memory consumed by internal CLR data structures. You
!EEStack [-short] [-EE]
!EEVersion
!EHInfo (<MethodDesc address> | <Code address>)
!EHInfo shows the exception handling blocks in a jitted method. For each 
!FinalizeQueue [-detail]
!FindAppDomain <Object address>
!FindAppDomain will attempt to resolve the AppDomain of an object. For example,
!GCHandleLeaks
!GCHandles [-perdomain]
!GCHandles provides statistics about GCHandles in the process. Sometimes the 
!GCInfo (<MethodDesc address> | <Code address>)
!GCInfo is especially useful for CLR Devs who are trying to determine if there 
!gcroot %p, and if you find a root on a stack, check 
!GCRoot [-nostacks] <Object address>
!GCRoot doesn't attempt to determine if a stack root it encountered is valid 
!GCRoot looks for references (or roots) to an object. These can exist in four
!IP2MD <Code address>
!MinidumpMode <0 or 1>
!Name2EE <module name> <type or method name>
!Name2EE <module name>!<type or method name>
!ObjSize [<Object address>]
!ObjSize includes the size of all child objects in addition to the parent.
!PrintException [-nested] [<Exception object address>]
!PrintException will notify you if there are any nested exceptions on the 
!ProcInfo [-env] [-time] [-mem]
!ProcInfo is not supported on a dump file.
!ProcInfo lists the environment variables for the process, kernel CPU time, as 
!RCWCleanupList <RCWCleanupList address>
!SaveModule <Base address> <Filename>
!StopOnException [-derived] 
!StopOnException helps when you want the Windows Debugger to stop on a 
!StopOnException.
!SyncBlk [-all | <syncblk number>]
!This program cannot be run in DOS mode.
!ThreadPool
!Threads [-live] [-special] 
!Threads command will also tell you which threads have nested exceptions.
!Threads lists all the mananaged threads in the process. 
!Token2EE <module name> <token>
!Token2EE among others.
!TraverseHeap [-xml] <filename>
!TraverseHeap writes out a file in a format understood by the CLR Profiler. 
!U [-gcinfo] [-ehinfo] <MethodDesc address> | <Code address>
!VerifyHeap
!VerifyHeap is a diagnostic tool that checks the garbage collected heap for 
!VMMap
!VMMap requires a full memory dump (.dump /ma) or a live process.
!VMMap traverses the virtual address space and lists the type of protection 
!VMStat
!VMStat requires a full memory dump (.dump /ma) or a live process.
"!DumpHeap -type Customer".
"!PrintException -nested".
"catch" blocks respectively.
"Free" objects are simply regions of space the garbage collector can use later.
"generations," wherein the youngest objects live in generation 0, and 
"-nested" option to get full details on the nested exception objects. The
"Server" mode there is one dedicated garbage collector thread per CPU.
#3DS=D
#t.Sh
$%s$%X
$`,du
$`2X`F
$f9l$j
$hD$'dQ
$k,d3
%-*s %-*s %-*s  %-13s %-13s %-8s %-8s
%*s.catch
%*s.finally
%*s.try
%*s} // end .catch
%*s} // end .finally
%*s} // end .try
%*sIL_%04x: 
%02X 
%08lx
%08x 
%08x %08x 
%08x (MethodDesc %#x %S)
%10s 
%11d 
%20.20S 
%20.20s 
%-20s 
%3d %4x %p
%4x %13.9f : 
%4x %4x %p  %8x
%5d %6x    
%-7s  %*s  %*s  %*s %*s  %*s
%-7s %*sK %*sK %*sK %*s %*sK
%8d %12I32u "%S"
%8p %8p %8p %8p
%8p %8p %8p %9s
%-8s  %-8s
%8s %10s %s
%8s %12s %s
%8s %8s
%8s %8s %12s %s
%8s %8s %8s
%8s %8s %8s %20s %2s %8s %8s %s
%8s %8s %8s %8s
%8s %8s %8s Apartment
%8s %8s %8s Type Name              
%-8s %p 
%8s %s
%D{,d
%I64d
%I64u
%ld percent of memory is in use.
%p %6.1fMB         %p %S
%p %8d %12I32u 
%p %8d%s
%p %8x %8x 
%p %p 
%p %p  %p 0x%p(%d)
%p %p %p
%p 0x%08x %S
%p is not a MethodDesc
%p is not a MethodTable
%p is not a Module or base address
%p is not a valid MethodDesc
%p is not a valid object
%p is not a valid object.
%p-%p %p  %-13s %-13s %-8s %-8s
%p(%S)
%p(%S)->
%p(%x
%S = 
%s is not IP
%s%s pointer
%S, use !PrintException %p to see more
%s: %p (invalid object)
%S::%S
%S::%S 
%u sections in file
%u.%u.%u.%u
%x "%S"
%x %S
( 8PX
("]w#
(#Could not read address of string#)
(%p->%p)
(%S[])
(0x%p, 0x%p)
('8PW
(a'du
(duplicate)
(DWORD) LogFacility = 0xffffffbf (this is a bit mask, almost all logging is on.
(DWORD) LogLevel = 6             (this is the default value if the key isn't
(DWORD) StressLog = 1
(DWORD) StressLogSize = 65536    (this is the default value if the key isn't
(for one thing, custom dump commands can map in additional memory, but there 
(k,dV
(MethodDesc %#x 
(MethodTable: %p)
(null)
(obtained with ".dump /ma <filename>" in the Windows Debugger) is often the 
(Shared Domain)
(System Domain)
(this is an oversimplification, see NOTE below). If another thread tries to 
(threads 3 and 4 have similar output)  0:003> k
(TransitionMU)
(TransitionUM)
)*dD)*dh)*d#
),dh$|'d
)+d )+d0)+d
)l$$u
)Microsoft Root Certificate Authority 20100
)Microsoft Root Certificate Authority 20110
)T$ "
*(+dF(+d
**d,**d
*?*kXIc
*060I0`0
*d@k,d
, <Xw
, calling 
, continuing...
,`,d9=
,+d4,+d
,k,du
,SUVW
,V'dU
.................
...<etc>...
.?AVbad_alloc@std@@
.?AVexception@std@@
.?AVtype_info@@
.040O0
.loadby shortcut). Within the Microsoft corpnet, we keep tagged versions 
.mixcrt
.module 
.rsrc
.text
/* UNKNOWN TYPE (0x%X)*/
// static method
/]DkYQ
/f mscoree.dll
/f mscorwks.dll
/mOj{
: :$:(:,:0:4:8:<:@:D:H:L:P:T:X:\:`:d:h:l:p:t:x:|:
: :7:<:q:
:":):.:
:#:4:8:<:@:D:H:L:P:T:X:\:`:d:
:$:,:0:4:8:<:@:D:H:L:P:T:X:\:`:d:h:l:p:t:x:|:
:$:3:=:Q:X:e:o:y:
:$;M;};
:%:*:/:4:9:>:C:H:M:S:\:
:%:<:B:\:
:%x) 
:&:0:g:z:
:(:/:7:<:@:D:m:
:):6:D:
:*:4:r:
:*:K:^:
:*;E;d;s;};
:,:;:E:W:
:,:<:L:\:l:|:
:,:I:t:
:,d+}
:,dhx
:.:?:F:U:Z:g:u:
:':.:3:9:R:Y:^:d:
::;O;o;
:-:7:A:J:c:k:~:
:-;F;_;l;~;
:+:A:
:+:V:c:
:2;<;F;Q;^;n;
:2;>;T;
:7:L:
:D:r:w:
:f:q:
:K:{:
:K:U:g:r:
:M;T;d;
:V;l;
; ;(;,;D;H;d;h;x;
; ;+;3;W;n;
; ;X;
; <$<(<,<
;!<4<><
;$;(;,;0;
;$;(;,;0;4;8;<;@;
;$;.;<;I;d;
;$;4;D;T;d;t;
;$;9;@;F;];t;{;
;$;R;p;
;%;G;U;d;
;%<i<z<
;&;.;6;<;A;J;a;q;
;(;2;H;S;X;
;);:;w;
;*;?;F;L;b;};
;*<^<
;,;<;L;\;l;|;
;.;U;w;
;.=4=
;^<m<v<
;|$$|
;|$\v
;+;Z;q;
;=@{,d}W
;=<j<
;2;z;
;2<><T<q<
;5 k,dw"j
;5 k,dwIVSP
;5;;;R;W;u;
;5@{,d
;5L:,dr
;5P{,dr'
;6;>;P;Y;~;
;7<U<&=r=
;c<m<
;D$$v
;'dPhXA'd
;F;l;~;
;G<n<t<
;J;S;
;l$ u
;L$|u
;l$l|
;Q(s(
;S;g;s;
;s<z<
;t$ |
;t$$r
;t$,v-
;V;];c;
?!?(?o?v?
?!?3?F?X?
?#?*?y?
?#?3?
?%?[?
?%?>?_?f?m?w?
?&?R?h?
?)?1?[?e?o?
?*?4?r?
?,?<?L?\?l?|?
?,?>?C?I?O?{?
?0H0^0
?1?@?S?s?
?3?F?S?
?3?R?s?
?4?8?X?t?x?
?5?@?k?y?
?6?;?M?
?8?@?L?T?h?s?x?
?B?H?b?g?
?e?p?
?E?X?u?
?h(O'd
?L?x?
?U?h?
?W?]?s?~?
@.reloc
@:,d;
@@BBf;
@`,dD
@`,du
@{,dj
@1D1H1L1P1T1x1|1
@a+d3
@PVhg
@PVhu
@PVSS
[.NET Framework Debugging Control]
[2] 00ad28f0
[3] 00ad28fc
[4] 00ad2908
[5] 00ad2914
[6] 00ad2920
[BAD: RANK == 0!]
[DEFAULT]
[-details]
[ERROR! NIL TOKEN]
[explicit] 
[FASTCALL]
[FIELD]
[hasThis] 
[ia64 and x64 documentation]
[InvalidReference]
[j@j 
[-length <length>]
[LOCALSIG]
[-nofields]
[Not documented yet]
[PROPERTY]
[-start <startIndex>]
[STDCALL]
[THISCALL]
[UNMANAGED]
[VARARG]
[x86 documentation]
\$ UV
\$ Vh
\$(VWPQ
\\ <these are two backslashes, immediately followed by a newline>
] argMask=%02X
] cur = 00000000
] ptrArgs=[
]_^[Y
]tEWR
^(d$^(dZ_(d
^4RSWh
^SSSSS
^WWWWW
_(d9`(d
_[]^3
_][^3
_^][3
_^][Y
_^][YY
__based(
__cdecl
__clrcall
__fastcall
__pascal
__ptr64
__restrict
__stdcall
__thiscall
__unaligned
_EFN_GetManagedExcepStack
_EFN_GetManagedExcepStack(%P, szStr, sizeof(szStr)) returned:
_EFN_GetManagedExcepStack(NULL, szStr, sizeof(szStr)) returned:
_EFN_GetManagedObjectFieldInfo
_EFN_GetManagedObjectName
_EFN_StackTrace
_HResult
_innerException
_items
_message
_remoteStackTraceString
_RTL_USER_PROCESS_PARAMETERS
_stackTrace
_stackTraceString
_VVVVV
`(d9`(dw`(d
`,d{R*d
`,d9}
`,dt~
`,dVS
`.data
`{,du
`{,dV
`{,dY
`|,d|
`|+d@
`|+d1E
`|+d3
`|+du
`ALL`
`copy constructor closure'
`default constructor closure'
`dynamic atexit destructor for '
`dynamic initializer for '
`eh vector constructor iterator'
`eh vector copy constructor iterator'
`eh vector destructor iterator'
`eh vector vbase constructor iterator'
`eh vector vbase copy constructor iterator'
`h````
`h`hhh
`local static guard'
`local static thread guard'
`local vftable'
`local vftable constructor closure'
`managed vector constructor iterator'
`managed vector copy constructor iterator'
`managed vector destructor iterator'
`omni callsig'
`placement delete closure'
`placement delete[] closure'
`RTTI
`scalar deleting destructor'
`string'
`typeof'
`udt returning'
`vbase destructor'
`vbtable'
`vcall'
`vector constructor iterator'
`vector copy constructor iterator'
`vector deleting destructor'
`vector destructor iterator'
`vector vbase constructor iterator'
`vector vbase copy constructor iterator'
`vftable'
`virtual displacement map'
{ ... }
|$|h8a'd
|$h D,d
|,9t$$u
|+dt.V
|+dtHh
|A'du
|hK,_
}#SVh
}+dV9P
~,WPV
~~~~           ~~~~~~~        ~~~~~~~        ~~~~~~~  ~~~~~~~~~          ~~~~~
~~~~~
~~~~~~~
~~~~~~~~~
+%#x 
+>WWh
+D$4^][
+d0Q+d
+dh@x(dP
+dh`!'dP
+dh`!'dR
+dhLC'd
+dhz*d
+dj(j
+dj/S
+dj+S
+do{*d
+dPQR
+dPQVh@
+dPQVh8I'd
+dPVQ
+dQRP
+dRPQ
+dSPQ
+dSRP
+dSVQ
+dSVQR
+dSWR
+dSWVR
+du+;
+du3j
+dUSP
+dVh\
+dVhT
+dVPj
+dVSP
+dVVj
+dWPQ
+dWRP
+dWVh
+dWVP
+dWVR
+dY{*d
+t HHt
< <Y<
< tK<
<!<.<5<
<"<V<q<{<
<#<(<:<?<Q<V<h<m<
<$<4<D<T<p<t<
<(<B<\<y<
<)<=<M<v<
<*<0<e<j<
<,<<<L<\<l<|<
<,<J<U<[<
<,SWt0
</gcheap>
</object>
</objects>
</roots>
</types>
<:,d;
<:=R=
<;<E<N<Y<g<z<
<+t(<-t$:
<<<]<j<
<<<< 
<'<3<E<L<Y<i<p<w<~<
<-<6<R<[<
<'<D<H<L<P<T<X<\<`<d<h<l<p<t<x<|<
<==s=
<>>S>Y>b>i>
<0<8<L<h<
<2<><T<
<2<N<[<|<
<2=O=i={=
<3<:<G<w<
<3<:<Z<
<5<O<l<
<8=R=]=
<aborted>
<After the Statistics section>
<array object address>
<at9<rt,<wt
<CLR reg> 
<'d    argTabOffset = %x  
<'dEAX
<descriptive text of the command>
<'dh@|'d
<'dPQ
<e,df
<e,dh
<ELEMENT_TYPE_SENTINEL> 
<Error getting MethodDesc information>
<error getting slot %d>
<example output>
<gcheap>
<H<~<
<heap traverse interrupted>
<heap walk interrupted>
<interrupted>
<Invalid Object>
<M<T<X<\<`<d<h<l<p<
<module name> can also be the debugger's name for a module, such as
<no data>
<no information>
<none>
<Not Available>
<Note: this object has an invalid CLASS field>
<object address="0x%p" typeid="%d" size="%d">
<objects>
<optional comments>
<p<}<
<program name unknown>
<repeat the sequence above>
<root kind="%S" address="0x%p"/>
<roots>
<String is invalid or too large to print>
<type id="%d" name="%S"/>
<types>
<unable to retrieve data>
<unknown field def>
<unknown member ref>
<unknown method def>
<unknown token type %08x>
<unknown token type (token=%08x)>
<unknown type def>
<unknown type ref>
<unknown type spec>
<unknown type token>
<unknown type>
<Unloaded Type>
<user aborted>
<Yv8V
= `,d
= =*=4=>=H=R=\=f=p=z=
= 00D071F0 used 00D09254 committed 00D17000
= b,d
=!=8=W=
="=:=Z=g=
="=+=8=C=U=h=s=y=
="=5=H=T=
=">(>.>8>a>h>o>y>
=#=+=Z=d=v=
=#=-=<=I=W=a=f=k=p=z=
=$=)=7=C=\=u=
=$=+=6=<=S=d=q=
=$>7>
=%=+=7===I=O={=
=&=U=l=s=
=(=H=h=t=
=)=Q=Y=`=f=l=
=*>C>
=,=<=L=\=l=|=
=,=0=a=j=|=
=,=1=6=
=,=6=P=
=,=J=T=^=h=z=
=,k,d[_^
=?>X>t>
=@=d=
=<`,d
=======================================
=0:,d
=0=^=
=0=C=
=0=T=
=7>X>d>
=8e,d
=a=j=w=
=A=R=X=j=
=d=l=y=~=
=D=w=
=f>l>
=G>V>f>k>p>w>
=h`,d
=H{,d
=j=w=}=
=L{,d
=l|,d
=N=V=`=y=
=N>a>h>o>
=N>t>
=P{,d
=p|,d
=Q>V>_>h>q>z>
=S>w>
=t|,d
> >&>5>F>w>
>!?F?
>!>&>?>L>o>
>">)>.>I>X>^>
>">)>0>7><>B>Z>
>">I>P>V>\>
>#>0>6>P>a>g>x>
>%???H?j?
>%>/>D>
>%>M>S>]>c>
>&>0>k>~>
>&>A>H>W>w>
>&>E?
>(?9?C?
>)?/?>?L?Z?e?o?u?
>*?4?S?k?x?
>,><>L>\>l>|>
>,>2>F>K>R>\>p>{>
>.>4>E>J>\>b>m>u>
>.>G>N>S>n>s>
>/>7>I>d>
>/>J>O>
>:?Y?j?t?
>=?F?X?g?|?
>=Yt/j
>> I got the following error message. Now what?
>> I have a chicken and egg problem. I want to use SOS commands, but the CLR
>> I have a partial memory minidump, and !DumpObj doesn't work. Why?
>> What other tools can I use to find my bug?
>> Where can I get the right version of SOS for my build?
>>> %s:%d
>0>P>p>
>5?[?z?
>5>F>P>y>
>8?_?
>8>I>S>
>A?X?t?
>E>X>b>
>http://www.microsoft.com/pki/certs/MicRooCerAut_2010-06-23.crt0
>http://www.microsoft.com/pki/certs/MicTimStaPCA_2010-07-01.crt0
>J?\?
>V<4q
>Z?n?
0 if the field contains a pointer to another object. For valuetypes, you can 
0!0<0@0D0H0L0P0T0X0\0`0d0h0l0
0!030N0V0^0u0
0"0.0D0P0
0#0;0
0#0_0d0o0t0
0#0<0]0d0k0u0
0$0(0,0004080<0@0D0H0L0P0T0X0x0
0$0@0`0
0$080K0e0
0$0E0f0p0
0%0,010M0V0]0b0~0
0%050?0L0h0m0
0%060Q0v0
0&0,070I0Z0`0q0w0
0&171W1
0(1A1G1r1/282>2W2]2s2y2
0*040L0S0]0e0r0y0
0,0<0L0\0l0|0
0/0W0~0
0:000>
0:000> !do a79d40
0:000> !dumparray -start 2 -length 5 -details 00ad28d0 
0:000> !dumpassembly 1ca248
0:000> !dumpheap
0:000> !dumpheap 1a71000 1a75000
0:000> !dumpheap -stat
0:000> !DumpLog
0:000> !dumpmd 902f40
0:000> !dumpmodule 1caa50
0:000> !dumpmodule -mt 1aa580
0:000> !DumpObj a79d40
0:000> !DumpObj a79d98
0:000> !DumpStackObjects
0:000> !DumpVC 0090320c 00a79d9c
0:000> !eeheap -gc
0:000> !EEHeap -loader
0:000> !ehinfo 33bbd3a
0:000> !finalizequeue
0:000> !findappdomain 00a79d98
0:000> !gchandles
0:000> !gcinfo 5b68dbb8   (5b68dbb8 is the start of a JITTED method)
0:000> !IP2MD 03ef01a6
0:000> !name2ee unittest!MainClass
0:000> !name2ee unittest.exe MainClass.Main
0:000> !ObjSize a79d40
0:000> !SaveModule 5d1d0000 c:\pub\out.tmp
0:000> !token2ee image00400000 02000004
0:000> !token2ee unittest.exe 02000003
0:000> !VerifyHeap
0:000> !VMMap
0:000> !VMStat
0:000> .loadby sos mscorwks
0:000> dd 15bc90 15bca0-4
0:000> dd 3ec0010
0:000> ed a79d40+4 01  (change the name field to the bogus pointer value 1)
0:000> K
0:000> lm
0:003> !syncblk
0:044> !name2ee price Price
0?1c1|1
0>0T0_0d0o0|0
000:0I0_0}0
00000000-0000ffff 00010000                NA            Free
00010000-00011fff 00002000  RdWr          RdWr          Commit   Private
00012000-0001ffff 0000e000                NA            Free
00020000-00020fff 00001000  RdWr          RdWr          Commit   Private
00021000-0002ffff 0000f000                NA            Free
00030000-00030fff 00001000  RdWr                        Reserve  Private
0012ea04 5d512f59 mscorwks!CallDescrWorkerInternal+0x30
0012ee34 5d7946aa mscorwks!CallDescrWorker+0x109
0015bc90  00a743f4 00a79f00 00a7b3d8 00a7b47c
0015cde8        6     10260      Free
0019fe48        2      6128      Free
001caa50 C:\pub\unittest.exe
00400000 00408000   image00400000     (deferred)
0090320c  4000001        0                CLASS   instance 00a743d8 signature
0090320c  4000002        8         System.Int32   instance     2345 m1
0090320c  4000003       10       System.Boolean   instance        1 b1
0090320c  4000004        c         System.Int32   instance     1234 m2
0090320c  4000005        4                CLASS   instance 00a79d98 backpointer
0090320c  4000010        4            VALUETYPE   instance 00a79d9c m_valuetype
009032d8  400000f        4                CLASS     static 00a79d54 m_sExcep
009038ec  4000008        4                CLASS   instance 00a79ce4 name
009038ec  4000008        4             Customer   0 instance 00a79ce4 name
009038ec  4000009        8                 Bank   0 instance 00a79d2c bank
009038ec  4000009        8                CLASS   instance 00a79d2c bank
009038ec  400000a        c       System.Boolean   instance        1 valid
00a70000 00a71000  00a7e01c 0000d01c(53276)
00a70000 00a71000  010443a8 005d33a8(6108072)
00a71000 0015cde8       12 Free
00a7100c 0015cde8       12 Free
00a71018 0015cde8       12 Free
00a71024 5ba58328       68
00a71068 5ba58380       68
00a710ac 5ba58430       68
00a710f0 5ba5dba4       68
00a780c0    1.5MB    00bec800 System.Byte[]
00a79c78 03ef01a6 image00400000!Mainy.Level(Int32)+0xb
00a79c78 03ef02ab image00400000!Mainy.Top()+0xb
00a79c78 5d3725a1 image00400000!Mainy.Main()+0xee
00a7a1a4. Combine that information with the call stacks of the deadlock:
00da4e38    1.2MB    00ed2c00 System.Byte[]
00f16df0    1.2MB    01044338 System.Byte[]
0-0S0y0
010;0A0y0
01a70000 01a71000  01a75000 0x00004000(16384)
01a70000 01a71000  01a76000 0x00005000(20480)
01a71000 5ba88bd8     2064
01a71810 0019fe48     2032 Free
01a72000 5ba88bd8     4096
01a73000 0019fe48     4096 Free
01a74000 5ba88bd8     4096
0'1O1a1
021I1a1
030b5cb0 0x01000002 System.Object
030b6420 0x01000001 System.ValueType
030d115c 0x02000002 Funny
030d1228 0x02000003 Mainy
030fceb4 0x01000003 System.Exception
03167a50 0x0100000e System.Runtime.InteropServices.GCHandle
0334e374 0x0100000c System.Console
0336a048 0x0100000f System.GC
03ec0010  00000000 00000000 0090320c 0090375c
03ec0020  009038ec ...
03ef015d b901000000       mov     ecx,0x1
03ef0162 ff156477a25b     call   dword ptr [mscorlib_dll+0x3c7764 (5ba27764)] (System.Console.InitializeStdOutError(Boolean), mdToken: 06000713)
03ef0168 a17c20a701       mov     eax,[01a7207c] (Object: SyncTextWriter)
03ef016d 89442414         mov     [esp+0x14],eax
0404ea04 77f5c524 SharedUserData!SystemCallStub+0x4
0404ea08 77e75ee0 ntdll!NtWaitForMultipleObjects+0xc
0404eaa4 5d9de9d6 KERNEL32!WaitForMultipleObjectsEx+0x12c
0404eb38 5d9def80 mscorwks!Thread::DoAppropriateAptStateWait+0x156
0404ecc4 5d9dd8bb mscorwks!Thread::DoAppropriateWaitWorker+0x360
0404ed20 5da628dd mscorwks!Thread::DoAppropriateWait+0xbb
0404ede4 5da4e2e2 mscorwks!CLREvent::Wait+0x29d
0404ee70 5da4dd41 mscorwks!AwareLock::EnterEpilog+0x132
0404ef34 5da4efa3 mscorwks!AwareLock::Enter+0x2c1
0404f09c 5d767880 mscorwks!AwareLock::Contention+0x483
0404f1c4 03f00229 mscorwks!JITutil_MonContention+0x2c0
0404f1f4 5b6ef077 image00400000!Worker.Work()+0x79
040904B0
041A1
050r0
051J1R1d1p1
08             |             [EBP+08H] an untracked  local
0A@@Ju
0C             |             [EBP+0CH] an untracked  local
0E             | 002D        reg ECX becoming dead
0F1T1`1
0k,du
0L0R0]0
0SSSSS
0V0`0e0j0o0t0
0V'dRS
0WWWWW
0x%p 
0z+dP
1 even if the thrown exception type doesn't exactly match the exception type
1!121S1
1"1*171R1V1a1j1w1
1"1'1-1A1G1L1R1
1"171A1
1#2*2a2h2
1#262i2
1#IND
1#INF
1#QNAN
1#SNAN
1$1T1m1
1%131=1P1]1d1l1
1%1m1y1
1&1b1n1
1(0&0
1(191_1
1(d#2(d
1) The debugger shorthand ID (In fiber mode, if the thread is a fiber which is
1) The thread has taken a lock.
1) When you just want to stop on one particular CLR exception
1)1A1X1
1*1a1l1
1*1B1O1t1
1,1<1L1\1l1|1
1,272<2
1.dll
1/0-0
1/1N1T1^1d1n1t1y1
1:2d2
1@1[1
1`1y1
10             |             [EBP+10H] an untracked  local
10             | 002D        reg EDX becoming dead
100701213655Z
10200000 102ac000   MSVCR80D     (deferred)
110708205909Z
111G2
111X1j1
121K1c1h1}1
122>2T2|2
14             |             [EBP+14H] an untracked  local
141:1^1d1v1
171G1b1
1B1L1
1B1U1
1C2Y2
1F2<3D3
1http://www.microsoft.com/PKI/docs/CPS/default.htm0@
1J1c1p1}1
1J2a2m2
1R1u1
1U2f2p2
2 2$2(2,2024282<2
2 2\2o2y2
2 2I2`2k2v2
2!2-2B2H2\2c2}2
2$2,242<2D2P6T6X6\6`6d6h6l6p6t6x6|6
2%3,313D3X3l3
2(2z2
2(363G3X3i3z3
2(394L4
2) The CLR Thread ID
2) The thread has been "hijacked" in order to allow a garbage collection.
2) When you need more complex logic for stopping on a CLR exception
2*343L3t3
2,2<2L2\2l2|2
2,2X2r2^3
2,3!8(8J8T8
2,363A3I3_3d3q3
2.0.50727.9157
2.0.50727.9157 (WinRelRS6.050727-9100)
2.2e2
2:2k2x2
2^2e2n2
2+383X3
2=2P2Z2
201215213145Z
20210504041201Z
20210504100722.781Z0
20210505041201Z0w0=
203<3s3
210114190213Z
211202213145Z0t1
21272F2R2W2]2s2
213e3p3u3
220411190213Z0
223>3T3i3o3t3
2-2M2n2x2
2-3|3
230012+4630090
232=2
250701214655Z0|1
260708210909Z0~1
2C2v2
2d3k3
2F2P2Z2k2
2If90t
2w2}2
2W3o3|3
3 313H3q3
3 363@3E3T3a3
3 474a4q4
3!4+454?4I4S4f4k4}4
3"4,4G4L4^4p4~4
3"4j4y4
3"4R4f4
3#343>3u3
3$383O3f3}3
3$3Y3
3$4:4E4J4T4
3%343:3@3\3
3&4,4_4r4x4
3&4/454^4d4v4|4
3(3;3
3) The OS thread ID.  
3) The thread is currently in managed code.
3)3@3
3)4.44484>4B4H4L4R4V4[4a4e4k4o4u4y4
3*323[3i3w3
3,3<3L3\3l3|3
3,383@3H3T3x3
3.383G3L3Q3V3`3
3:4Q4[4
3]4|4
3+313
3+343A3b3l3
3+3I3V3`3
3+4>4H4v4
3<4r4y4
35`|+dW
3560   9.980618994 : `GC`GCROOTS`         GcScanHandles (Promotion Phase = 0)
3560   9.981124963 : `GC`                 GC Heap 00000000
3560   9.981125103 : `GC`                     Generation 2 [00C61000, 00000000
3560   9.981125529 : `GC`                     Generation 1 [00CED070, 00000000
3560   9.981125726 : `GC`                     Generation 0 [00CED07C, 00000000
3560   9.981125826 : `GC`                         Segment mem 00C61000 alloc 
3560   9.981135033 : `GC`GCALLOC`GCROOTS` ========== ENDGC 4194 (gen = 2, 
3560   9.981137099 : `SYNC`               RareEnablePremptiveGC: entering. 
36 D4 8C C7 AA |
38             | 0036        reg EDI becoming dead
383S3b3
3B3N3d3}3
3http://www.microsoft.com/pkiops/docs/primarycps.htm0@
3J4P4t4
3K3^3h3
3Q3`3
3T4`4l4
3T4d5k586
3W3*555=5R5
4 4D4
4 5D5
4 sections in file
4!4+454?4I4
4#4-4b4u4
4$404
4$5<5G5
4%474b4
4)4H4
4)d 6)d
4)dJITTED %S!%S
4*d'4*d'4*dcsm
4,4<4L4\4l4|4
4,525:5G5[5f5
4,5D5K5|5
4:,d;
4:,dj
4:,dS
4:,dSW
4:,dV
4`%x (%p)
4>4z4
404@4O4Y4
404B4T4f4
434W4c4
435D5N5
44             |             [EBP-04H] an untracked  local
454?4\4y4
4A             | 0027        reg ECX becoming live
4D4]4p4
4f5k5}5
4K*d<K*dHK*d\K*d
4K5o5
4L5V5
4N4S4\4e4n4w4
4r5x5
4Y5j5t5
5!535?5
5!626;6J6O6`6
5"5,565A5
5"5<5
5#5)565<5I5O5a5g5}5
5$5054585<5@5H5L5P5T5X5\5`5d5h5l5p5t5x5
5$5D5
5$6\6
5$636B6\6
5$6t6
5(5_5r5|5
5(6;6E6
5(6`6
5)575
5*6r6~6
5,5<5L5\5l5|5
5/5C5W5g5w5
5:6D6
5;6W6
5?5M5Y5t5
5@:,d
5@{,d
5\`,d
5^5i5n5
5`{,d
5`|+d
5|`,d3
5+5e5l5}5
5<:,d
5<5h5o5
5<6M6W6
5=5O5b5z5
50`,d
50`,d3
50`,dU
506Z6
50k,d
536S6d6
54:,d
545?5b5
545^5
545v5
5-5>5H5
555u5
5'5X5
56             | 0025        reg EDX becoming live
575d5
58:,d
5a000000 5a0b1000   mscoree      (deferred)
5a140000 5a29e000   mscorjit     (deferred)
5b660000 5c440000   mscorlib_dll     (deferred)
5ba57bf8      318     18136 System.String
5ba58328        1        68 System.OutOfMemoryException
5ba58380        1        68 System.StackOverflowException
5ba58430        1        68 System.ExecutionEngineException
5ba58c10        1       108 System.AppDomain
5ba5c57c        1        20 System.SharedStatics
5ba5db04        1        68 System.Threading.Thread
5ba5db04        2       136 System.Threading.Thread
5ba5dba4        1        68 System.Threading.ThreadAbortException
5ba61f18        1        12 System.Collections.CaseInsensitiveComparer
5ba65bb8        2        48 System.Reflection.Assembly
5ba6739c        1        48 System.Reflection.Module
5ba6cf78        1        24 Microsoft.Win32.SafeHandles.SafeFileHandle
5ba73e28        2       112 System.IO.StreamWriter
5ba75d54        1        12 System.Security.Permissions.SecurityPermissionFlag
5ba75da8        1        12 System.Security.Permissions.SecurityPermission
5ba7607c        1        12 System.Security.Permissions.HostProtectionResource
5ba76878        2        40 System.Security.PermissionSet
5ba88bd8        3     10256 System.Object[]
5c6u6~6
5D:,d
5d|,d
5d|+d^_[
5d1d0000 5e13c000   mscorwks     (deferred)
5d5w5}5
5Dj,d
5E6_6z6
5f5o5
5G5y5
5h$'d
5h|,d
5H5o5w5
5J6a6
5J6i6z6
5L5_5i5(6f6s6
5P{,d
5P6e6
5Tj,d
5X6{6
6 6;6K6
6 606
6 6z6
6!646p6
6!6k7
6"7.7D7P7|7
6$797[7
6%6*626;6G6L6Q6W6[6a6f6l6t6
6&6D6k6
6&6G6s6
6(6:6D6N6Y6q6
6,6<6L6\6l6|6
6,666H6_6
6,6Z6
6.7l7
6`7i7o7u7
6=7T7$808F8R8
616=6U6w6
616Z6o6
646d6
-64OS
656G6Y6k6}6
657F7P7
667R7
676W6
6B6d6v6
6I6]6h6G7R7W7j7
6k7u7
6L7]7c7
6P6W6_6x6~6
6R7c7m7
6t\YZA
6V7j7~7
7 949<9D9L9T9\9d9l9t9|9
7!7&747J7X7w7
7"7.7;7_7q7
7#757@7E7p7
7$71797I7U7b7k7
7%7+71777=7D7K7R7Y7`7g7n7v7~7
7%777C7Q7X7`7n7u7}7
7%8;8W8i8
7%868@8w8
7,7<7L7\7l7|7
7.7k7
7/757=7C7O7W7
7[_^]
7+838:8c8i8o8
7<7S7]7
7=8[8
700PP
700WP
707F7Q7V7r7
72             | 0013        reg ESI becoming live
737S7X7p7z7
767R7d7
778[8s8
7'8|8
788[8}8
797a7
797J7T7
7c9g9k9o9s9w9{9
7D7\7g7
7d7h7l7p7t7x7|7
7g8n8
7K7b7l7
7K8w8
7L8]8u8
7M7g7
7M8a8
7r7~7
8 8%8N8
8 8<8X8x8
8 9Q9
8 9w9
8!8;8
8!8;8A8U8[8s8y8
8"8.8D8a8
8"838D8U8~8
8%8.8a8k8p8u8z8
8%8O8
8(929S9
8)8;8P8W8`8x8
8,8<8L8\8l8|8
8/8c8
8:,d;
8:,dSV
8:,dVj
8;8D8P8
8_[^]
8`,d^
8+8E8
8=9O9a9
809_9
828a8
828y8
83             | 0016        push ptr  0
838X8k8
8B             | 0019        push ptr  1
8e,dW
8E8]8
8H8j8
8K8~8
8M8Z8t8
8M9l9p9t9x9|9
8VVVVV
8y+dRh
9 9$9(9,9094989<9@9D9H9L9P9T9X9\9`9d9h9l9p9t9x9|9
9!9@9O9X9^9h9
9!9'979<9N9T9`9e9w9}9
9":.:D:Q:s:
9"9e9
9#:4:R:y:
9%:y:
9%9+9C9I9c9i9}9
9%9>9P9V9_9r9
9(:B:q:
9(9-92979B9r9
9(9V9`9s9}9
9):I:Y:_:f:s:z:
9)9;9N9a9x9
9,:9:A:O:a:m:x:
9,<0<d<h<x<|<
9,9<9L9\9l9|9
9,919C9H9Z9_9q9v9
9,989<9@9D9H9L9P9T9X9\9`9d9h9l9p9t9x9|9
9,dh|
9,dhL
9,dhl
9,dPSWQ
9,dRQP
9,dti
9/tCj$
9-:F:\:
9':O:`:v:
9\$ tG
9\$$~q
9\$$u
9\$,t$
9\$,t.
9\$\t
9\$`t
9\$4tE
9\$xt
9] SS
9]$SS
9]ptlj
9|$@t
9|$<t
9|$4u
9|;)<4<
9=9c9
9=He,dt,V
9=P{,d|
9>uYj
91:I:
929:9Y9i9{9
93             | 001C        push ptr  2
93 F3 40 05    |
95d`,dt
95L:,dv'
969=9^:
98:@:R:
9-92979P9W9\9b9{9
9'999E9O9V9
9A:T:]:h:r:{:
9B             | 001F        push ptr  3
9B7A-94635BEEBDDA&displaylang=en
9b9t9
9E Yt
9j:q:
9l$$v
9l$(u
9l$,u
9l$4u(UU
9l$Dt
9l$Pt
9l$Xv
9r$u2
9R9]9{9
9S9m9w9
9t$ ~d
9t$(uT
9T9n9
9U9h9r9
a code address in a managed function into a MethodDesc:
a garbage collection occurs, the collector needs to know where roots are so it 
A handy supplement to this function is to also run "lm v m mscorwks". That 
A leak may still exist because in a general scan of process memory SOS can't  
a managed thread is making a PInvoke call to a Win32 function, that thread 
A minidump without full memory may not have this information
a simple program:
A special note about -type: Often, you'd like to find not only Strings, but
A SyncBlock is a holder for extra information that doesn't need to be created 
a value class is not a first-class object with it's own MethodTable as the
A$;A u
A%8s %8s %16s
a,d(b,d 
a,dSUVW
AAGGf;
abcdefghijklmnopqrstuvwxyz
ABCDEFGHIJKLMNOPQRSTUVWXYZ
abcdefghijklmnopqrstuvwxyz
able to rule out or include them as a source of a memory leak.
about that method. You could run !U, !DumpMT, !DumpClass, !DumpMD, or 
Abstract, 
ACTIVE
add.ovf
add.ovf.un
Adding pending breakpoints...
-addr
Address
addresses in the call stack to get more information on each managed method.
a'dh`
ADUnloadHelper 
All handles found
all loaded modules in all domains. And remember that you can browse all the
AllocProtect
AllowOptimize=0
also lists heaps associated with the JIT compiler, and heaps associated with 
an Address string. You can use !ObjSize to identify any particularly large 
An application has made an attempt to load the C runtime library incorrectly.
An assembly can consist of multiple modules, and those will be listed. You can
an untracked %s%s local
and for a class:
and maps it to a MethodDesc, which can be passed to !DumpMD.
and reports what it found. If a handle is found, you'll see the address of the
and the types referenced by the module. For example:
Any Assembly pointer in the output can be passed to !DumpAssembly. Any Module 
AppDomain: %p
AppDomain: 0014f000
AppDomains.
applied to each region. Sample output:
appropriate structures. For example, the TypeDefToMethodTableMap above can be 
April
are able to run other SOS commands, but they may fail with unexpected errors 
are overloaded methods, !bpmd will set a breakpoint for all of them.
are two special domains: the Shared Domain and the System Domain.
arglist
args (%d)
ARRAY
Array: Rank %d, Number of elements %d, Type %s
Array: Rank 1, Number of elements 10, Type VALUETYPE
Assembly
Assembly: %p
Assembly: 001ca248
AssemblyReferencesMap: %p
AssemblyReferencesMap: 03ec012c
associated with it. For example, this output from K:
Async Pinned Handles: %d
Async Pinned Handles: 0
AsyncCallbackCompletion AsyncCallback@%p
AsyncTimerCallbackCompletion TimerInfo@%p
At this time you can use SOS commands. To turn off spurious notifications,
Attempted to run: %s
Attempting to dump Stress log to file '%s'
Attempting to dump Stress log to file 'StressLog.txt'
Attributes: 
Attributes: PEFile
August
Avail
AVERAGE
b1: %S
b2: %S
b3: %S
b4: %S
b5: %S
b6: %S
b7: %S
b8: %S
b9: %S
ba w4 /1 %p "bp poi(%p); g"
BackgroundThread: %d
bad allocation
bad import
Bad MethodTable for Obj at %p
BAD TIME
BaseSize: 0x%x
BBFFf;
B'dQRP
B'dQRWV
B'dRPWQ
be created for MyObject, and the thread ownership information stored there 
be passed to !DumpDomain to limit output only to that AppDomain. Other 
be returned. More generally, "-type <Substring of interesting type>[]".
Because people often want to restrict the search to gc handles and freachable
because required areas of memory are not mapped in or only partially mapped 
Begin %p, size %x
Begin %p, size %x. Cold region begin %p, size %x
beq.s
best way to debug a managed program at this level.
between managed and unmanaged code. You could run !IP2MD on the return 
bf&!D
bge.s
bge.un
bge.un.s
bgt.s
bgt.un
bgt.un.s
Bhttp://www.microsoft.com/pki/certs/MicRooCerAut2011_2011_03_22.crt0
binaries for that version of the Runtime, the Windows Debugger will load the
binary array. If _stackTraceString field is not filled in, that can be helpful 
binary to a file, so you can disassemble the code and browse types with ILDASM.
binary. Be sure to list any new commands here.
ble.s
ble.un
ble.un.s
BLK COUNT
block and the handler block. For a TYPED handler, this would be the "try" and
blt.s
blt.un
blt.un.s
bne.un
bne.un.s
Boolean
Both of these data structures are cached and cleaned up by the finalizer thread
bp %p
break
breakpoint for any instantiation that will be JIT-ted in the future.
Breakpoint set
brfalse
brfalse.s
brtrue
brtrue.s
but !ObjSize lists 152 bytes:
But it could be handy sometimes.
By default, MinidumpMode is 0, so there is no restriction on commands that will
By looking at the code corresponding to Worker.Work()+0x79 (run "!u 03f00229"),
by memory pressure for better performance. You can also see the notion of 
by the orphaned handle. If the number doesn't grow over time, note that there 
By using !EEHeap to keep track of the growth of these private heaps, we are 
ByRef
byref
BYREF
byref 
C,d^t1
C,d_^]
C,dPPhl
C,dRPQhH
C,dS3
c:\pub\out.tmp already exists, it will be overwritten.
call 
call those when an AppDomain shuts down.
called a ThinLock will be used if there is not already a SyncBlock for the 
calli
callvirt
can also pass * as the <module name> to search all loaded managed modules.
can get false positives because even though the value was found, it might be 
can limit the output by passing "-gc" or "-loader". All information will be 
can move around in the garbage collected heap.
can occur while that thread is running. For example, if you break in while
can request the JIT compiler to not optimize functions in the managed app by
can run !DumpMT to verify that. The MethodDefToDescMap takes a MethodDef token 
can update them with new object pointer values.
candidate is validated. This helps to eliminate false positives. It is not
Cannot specify both -mt and -type
Cannot specify both -short and any of (-stat, -thinlock, -strings, -verify)
Can't get Watson Buckets
castclass
catch(...) 
CCW             %d
cgt.un
ChildEBP RetAddr
ChildEBP RetAddr  Caller,Callee
Chttp://www.microsoft.com/pkiops/crl/MicCodSigPCA2011_2011-07-08.crl0a
ckfinite
CLASS
Class
class 
Class Attributes: %x  
class G3<T1, T2, T3> 
Class Name
Class Name: 
Class: %p
Class: 03571358
Class: 03ee1424
ClassLoader: %p
ClassLoader: 001ca060
Clause: [%p, %p] [%x, %x]
Clause: [033bbd2b, 033bbd3c] [8b, 9c]
Clause: [033bbd7a, 033bbdc5] [da, 125]
Clause: [033bbd83, 033bbda3] [e3, 103]
CLEARED
CLOSED
CloseHandle
CLR not loaded
CLRProfiler
CLR-specific data, just enough to run a subset of SOS commands correctly. You 
ClrStack
clrstack
CLRStack
CLRStack attempts to provide a true stack trace for managed code only. It is
CLstatic
clt.un
CMOD_OPT
CMOD_REQD
Code %x 
CodeAddr: %p
CodeAddr: 033bbca0
CodeAddr: 03ef00b8
codelabel
Cold region:
collect_classes = 0) ==========={
COLLECTED
collection statistics about objects. With it's various options, it can look for
combined with a high rate of allocation. Here is example output where !DumpHeap
ComClassFactory
ComClassFactory %d
ComImport, 
COMMAND: %s.
COMMAND: <cmd name, all lower case>
COMMAND: bpmd.
COMMAND: clrstack.
COMMAND: comstate.
COMMAND: contents.
COMMAND: dumparray.
COMMAND: dumpassembly.
COMMAND: dumpclass.
COMMAND: dumpdomain.
COMMAND: dumpheap.
COMMAND: dumpil.
COMMAND: dumplog.
COMMAND: dumpmd.
COMMAND: dumpmethodsig.
COMMAND: dumpmodule.
COMMAND: dumpmt.
COMMAND: dumpobj.
COMMAND: dumpruntimetypes.
COMMAND: dumpsig.
COMMAND: dumpstack.
COMMAND: dumpstackobjects.
COMMAND: dumpvc.
COMMAND: eeheap.
COMMAND: eestack.
COMMAND: eeversion.
COMMAND: ehinfo.
COMMAND: faq.
COMMAND: finalizequeue.
COMMAND: findappdomain.
COMMAND: gchandleleaks.
COMMAND: gchandles.
COMMAND: gcinfo.
COMMAND: gcroot.
COMMAND: ip2md.
COMMAND: minidumpmode.
COMMAND: name2ee.
COMMAND: objsize.
COMMAND: printexception.
COMMAND: procinfo.
COMMAND: rcwcleanuplist.
COMMAND: savemodule.
COMMAND: stoponexception.
COMMAND: syncblk.
COMMAND: threadpool.
COMMAND: threads.
COMMAND: token2ee.
COMMAND: traverseheap.
COMMAND: u.
COMMAND: verifyheap.
COMMAND: vmmap.
COMMAND: vmstat.
Comments
Commit
CompanyName
Completion Port Thread:
complex, like 'price, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null'.
ComponentSize: 0x%x
compressed stream of data indicating when registers or stack locations contain 
COMState
comstate
CONOUT$
consistency errors.
constrained.
contents
CONTEXT
Context information:
ContextStaticOffset: %x
ContextStaticsSize: %x
conv.i
conv.i1
conv.i2
conv.i4
conv.i8
conv.ovf.i
conv.ovf.i.un
conv.ovf.i1
conv.ovf.i1.un
conv.ovf.i2
conv.ovf.i2.un
conv.ovf.i4
conv.ovf.i4.un
conv.ovf.i8
conv.ovf.i8.un
conv.ovf.u
conv.ovf.u.un
conv.ovf.u1
conv.ovf.u1.un
conv.ovf.u2
conv.ovf.u2.un
conv.ovf.u4
conv.ovf.u4.un
conv.ovf.u8
conv.ovf.u8.un
conv.r.un
conv.r4
conv.r8
conv.u
conv.u1
conv.u2
conv.u4
conv.u8
ConvertThreadToFiber
CopyCtor
correct mscordacwks.dll file.
correspond to SOS command names. This file is embedded as a resource in the SOS 
corresponding to objects that are owned by a thread. For example, a
corruption bug caused by invalid GCEncoding for a particular method.
could increase this to get more logging, but more memory will be required for 
Could not read address of format string
Could not read memory %p
Count
cpblk
cpobj
CPU utilization %d%%
-create
-create2
CreateFiber
CreateFileA
CreateFileMappingA
CREATING
creating a file myapp.ini (if your program is myapp.exe) in the same directory.
curr_object : %p
curr_object : 00a73d24
curr_object : 00a79d40
curr_object: %p > end_youngest: %p
curr_object: %p > heap_segment_allocated (seg: %p)
Current frame: 
current managed thread. (A nested exception occurs when you throw another
Current mode: %s - unsafe minidump commands are %s.
cxr@%x
D$ PS
D$ RPhhd'd
D$$+D$
D$$PQ
D$$PU
D$$RPh
D$(Ph
D$(PQ
D$(PUV
D$(PWUh
D$(PWV
D$(QP
D$(RPh
D$(vn
D$(Wj
D$,9h
D$,Ph
D$,PPh
D$,PSS
D$,Uj
D$@ X'd
D$@Ph
D$@Ph@['d
D$@PU
D$@t"
D$\`X'd
D$\PS
D$`Ph4g'd
D$|@^'d
D$|Pj
D$<4T'd
D$<PQ
D$<PSj
D$<RPh
D$0Phlg'd
D$0PW
D$4@^'d
D$4PQ
D$8j\P
D$8Ph<`'d
D$8PQ
D$8PV
D$DPh
D$dPj
D$DRPh
D$dT|'d
D$H X'd
D$h$`
D$HPPh$C'd
D$HPW
D$LPh
D$LPPh$C'd
D$NPh
D$p t
D$P$^'d
D$pPh
D$pSP
D$PX|'d
D$tPh
D$xP|'d
D$xPW
D$XRPh
D,dPh
D,dPh-
D:,dV3
D@'du
'd]_^[Y
'd^_3
'd_^[
'd_^]
'd_^3
d`,d;
D{,d3
d|,du
D+*dL+*dT+*d\+*dd+*dl+*dt+*d
D=xz#
D1"xR
dbgeng.dll
DbgHelper 
dddd, MMMM dd, yyyy
DeadThread: %d
DebugCreate
DebugExtensionInitialize
DebugExtensionNotify
DebugExtensionUninitialize
debugger "U" function, the entire method from start to finish is printed,
December
DecodePointer
default one.
defined on the object. 
DeleteCriticalSection
DeleteFiber
-derived
-detail
-details
details can be obtained by passing the pointer value to !PrintException. If
determine if it is still in use.
'dGetProcessWindowStation
'dh `'dh
'dh b'd
'dh0b'dh`
'dhdI'dPh
'dhHI'dPh
'dhtI'dPh
'dhTI'dPh
'dhXI'dPh
Didn't find %d handles:
differentiate between garbage and valid structures, so you may have false     
directly. Be careful about using this to set memory breakpoints, since objects
disabled
disassemble the frame that the local or argument value belongs to in order to 
disassembly of the JITTED code. You can also call !DumpClass, !DumpMT, 
discarded without freeing it.
Display of context static variables is not implemented yet
displayed otherwise.
displaying, finding or traversing objects as well as gc heap segments may not 
disturb a fragile repro environment. The !DumpLog function allows you to write 
div.un
'dj\V
DllBase
DLYwh
DOCUMENTATION
Documentation for %s not found
documentation). Finally, it will provide a warning if it detects excessive 
doesn't match the version of MSCORWKS.DLL. You can find the version of 
Domain
Domain %d: %p
Domain %d: %x
Domain 1: 14f000
DOMAIN error
DOMAIN(%p):
don't have an instance of the class, so !dumpobj won't help you), note that
don't have the original DLLs or EXEs. This is most often used to save a managed
Double
down by AppDomain.
'dPhxW'd
'dPQ3
'dPQWV
'dPSh
'dQRWV
'dRPWV
'dSSS+
'dSSSS
'dSSW
dSVW3
dump creation time to bring those structures into the minidump, and allow a 
dumparray
DumpArray
DumpArray (da)                     CLRStack
DumpAssembly
dumpassembly
DumpAssembly                       
dumpclass
DumpClass
DumpClass                          GCHandleLeaks
DumpDomain
dumpdomain
DumpDomain                         VerifyHeap
DumpHeap
dumpheap
DumpHeap                           U
DumpIL
dumpil
DumpLog
Dumplog
dumplog
DumpMD
dumpmd
DumpMD                             VMMap
DumpMethodSig
dumpmethodsig
DumpMethodSig                      Other
DumpMethodSig <sigaddr> <moduleaddr>
DumpModule
dumpmodule
DumpModule                         StopOnException (soe)
dumpmt
DumpMT
DumpMT                             GCHandles
DumpObj
dumpobj
DumpObj (do)                       Threads
Dumpruntimetypes
dumpruntimetypes
DumpRuntimeTypes
DumpRuntimeTypes                   -----------------------------
DumpSig
dumpsig
DumpSig                            FAQ
DumpSig <sigaddr> <moduleaddr>
dumpstack
DumpStack
DumpStackObjects
dumpstackobjects
DumpStackObjects (dso)             IP2MD
DumpVC
dumpvc
DumpVC                             DumpStack
'dVPh
'dVW3
'dWh-
dword ptr [
dword ptr ds:[
'dWu,h
'dWWWW
Dynamic 
Dynamic Module
dynamic statics NYI
E$y;*d
e,du09u
e,dWuq
E@RPh(d'd
e_.,>
e+000
E0             | 002D        pop  4 ptrs
E0C1)0'
E8RPh$
Each thread has many attributes, many of which can be ignored. The important 
EBP%c
EBX%c
EDI%c
E'dQP
-EE functions just the same.
-EE will only show managed functions.
EEClass has an invalid MethodTable address
EEClass: %p
EEClass: <error getting EEClass>
EEClass: <not loaded yet>
EEClass: 03e40fc0
EEClass: 03ee1424
EEClass: 03ee14b8
EEClass: 03ee1ae0
EEClass: 03ee1b84
EEClass: 11a538c8
EEHeap
eeheap
EEHeap                             DumpLog
eestack
EEStack
EEVersion
eeversion
EEVersion
EEVersion                          ProcInfo 
EHHandler %d: %s
EHHandler %d: %s 
EHHandler %d: %s CLAUSE END
EHHandler %d: %s FILTER BEGIN
EHHandler %d: %s HANDLER BEGIN
EHHandler %d: %s HANDLER END
EHHandler 0: TYPED
EHHandler 1: FINALLY
EHHandler 2: TYPED
EHInfo
Ehinfo
ehinfo
-ehinfo
EhPPh
EhPPh<
EhPPhh
EhPQRhtk'd
Ehttp://crl.microsoft.com/pki/crl/products/MicRooCerAut_2010-06-23.crl0Z
Ehttp://crl.microsoft.com/pki/crl/products/MicTimStaPCA_2010-07-01.crl0Z
Ehttp://www.microsoft.com/pkiops/certs/MicCodSigPCA2011_2011-07-08.crt0
EJIT generated code
Element Methodtable: %p
Element Type: %S
Element Type: Value
enabled
EncodePointer
end       Stop listing at this address
endfilter
endfinally
endmac
EnterCriticalSection
Entry
entry point %p
entry point 5b68dbb8
Environment
EP@j)d
ephemeral segment allocation context: 
error decoding IL
Error during heap traverse
Error gathering dynamic info from object at %p
Error getting AppDomain %p
Error getting AppDomain friendly name
Error getting AppDomain information
Error getting card table lowest address
Error getting EEJitManager code heaps
Error getting MethodDescs
Error getting next card table
Error getting per-appdomain handle information
Error getting string data
Error getting System.RuntimeType.m_handle offset
Error in GetLastEventInformation
error in import
Error initialized register $t%d to zero
Error initializing heap traversal
Error loading documentation resource
Error processing exception notification
Error reading card bits
Error requesting details
Error requesting GC Heap data
Error requesting gc heap details
Error requesting heap segment %p
Error requesting SyncBlk data
Error requesting SyncBlock %d, continuing
Error retrieving nested exception info %p
Error setting breakpoint: %s
Error when reading RuntimeType field
Error!
Error, unexpected opcode type
Error: %lx
Error: AppDomain name incorrect
Error: bad threadcount (should be between 2 and 4)
Error: caught exception in VerifyDACInternal
Error: Failed to request Thread
Error: unable to find the finalizer thread
ESI%c
ESP/REG  Object   Name
Especially on IA64, there is heavy optimization of parameters and locals. You
every exception in the System.Exception heirarchy.
every object has enough clues about it's origin to determine the AppDomain. 
ex:    StopOnException -create System.OutOfMemoryException 1
Examine a MethodTable. Each managed object has a MethodTable pointer at the 
examined:
Examining CLR data structures      Diagnostic Utilities
Example for generics:
Example output:
example, if you only want to list objects in the large heap segment:
example. If a handle is not found in memory, you'll get notification of that 
Example: DumpVC 907b50 67903084
Examples: !Name2EE  mscorlib.dll System.String.ToString
exception during printing
exception during sorting
Exception object: %p
exception on the current thread (if any). You can use !soe as a shortcut for 
exception on the current thread and print it. This will be the same exception
Exception type: %S
Exception type: <Unknown>
Exception will list the last thrown exception (if any) for the thread. More
exception within a catch handler already being called for another exception).
exceptions by switching to the thread in question, and running 
execute the same code, they won't be able to enter the block until the first 
EXITED
EXITING
Exiting...
ExitProcess
Expected newline in documentation resource
Expecting an exception event
explore more fields.
expressed as `facility1`facility2`facility3`.  This facilitates the creation of 
ExRdWr
ExSVW
ExSVWP
extension !teb to get the top and bottom stack values.
Extension commands need mscorwks.dll in order to have something to do.
ExWrCp
F$RPh
f(d}d(d
f(dt_(d
F*dCorExitProcess
f,dVj
F\=8}+dt
F\8}+d3
F0 31          | 0036        reg ESI becoming dead
F1 79          | 0011        reg EDI becoming live
f9\$4t
Fail to create file %s
Fail to fill AppDomain
Fail to fill Assembly
Fail to fill Module %p
Fail to read memory
Fail to read PE section info
Failed
Failed to complete stackwalking
Failed to examine a WorkRequest
Failed to execute the following command: %s
Failed to find runtime DLL (mscorwks.dll), 0x%08x
Failed to find runtime DLL (mscorwks.dll), 0x80004005
Failed to gather EHInfo data
Failed to get appdomain %p, error %lx
Failed to get appdomain list
Failed to get appdomain, error %lx
Failed to get CLR Tls data for thread %d
Failed to get GCHeaps
Failed to get GCHeaps:  integer overflow
Failed to get GCHeaps:  integer overflow error
Failed to get GCHeaps: integer overflow
Failed to get Teb for Thread %d
Failed to get thread ID for thread #%d
Failed to get thread type info not found for thread %d
Failed to get Tls expansion slots for thread %d
Failed to load data access DLL, 0x%08x
Failed to perform EHInfo traverse
Failed to read bounds info from the array
Failed to read element at 
Failed to read lower bounds info from the array
Failed to read memory
Failed to read whole or part of stress log, some references may come from stress log
Failed to request Context at %p
Failed to request MethodData, not in JIT code range
Failed to request Thread at %p
Failed to request ThreadpoolMgr information
Failed to request ThreadStore
Failed to require current Thread ID
Failed to require total thread number
Failed to retrieve segments for gc heap
Failed to retrieve Tls Data index
Failed to set code notification
Failed to start stack walk. Current thread is not managed
Failed to start stack walk: %lx
Failed to switch to original thread
Failed to switch to thread %d
FAILURE: Stress log not dumped
FAULT
FCALL
February
FF             |
Field
Field (mdToken token) of
Field name: %S
FieldDefToDescMap: %p
FieldDefToDescMap: 03ec00a4
Fields:
file %s saved
File not specified
file. This is especially useful if you are debugging a full memory dump, and 
FileDescription
FileReferencesMap: %p
FileReferencesMap: 03ec0128
FileTimeToLocalFileTime
FileTimeToSystemTime
FileVersion
FILTER
Filter: [%p] [%x]
filters for displaying only specific message categories.  To make sense of this 
FINALIZED
FinalizeQueue
finalizequeue
FinalizeQueue                      EHInfo
Finalizer 
Finalizer queue
FINALIZING
FINALLY
Finally, if gc heap corruption is present, you may see an error like this:
FindAppDomain
Findappdomain
findappdomain
FindIL failed
FindResourceA
first field. For example:
First, all stacks will be searched for roots, then handle tables, and finally
Flavor=Retail
float32
float64
FlsAlloc
FlsFree
FlsGetValue
FlsSetValue
FlushFileBuffers
FNPTR
Followed by
followed by a report listing all the types found, their size and number:
following code is executed by Threads A & B:
For a minidump created with this minimal set of functionality in mind, you
for debugging. You can of course use !DumpObj on the same exception object to 
for every object. It can hold COM Interop data, HashCodes, and locking 
For example, !DumpObj lists a size of 20 bytes for this Customer object:
For example, a GCHandle valuetype is stored on the stack with the low bit set 
for finalization. The notation "(0015bc90->0015bca0)" means that if you look at
for -l and -p combined.
For multi-dimension array, length and start index are supported
for the method. (Beginning and end of try/finally/catch handlers, etc.).
For this case, just be sure to surround the module name with single quotes,
For this kind of module, simply use price as the module name:
Found %d handles:
Found %d methods...
Found %p at location %p
Found %p in stress log at location %p, reference not counted
fragmentation in the GC heap. 
Fragmented blocks larger than 0.5 MB:
Fragmented blocks larger than 1MB:
Free            %d
Free MethodTable
Free Object
Free:
FreeEnvironmentStringsA
FreeEnvironmentStringsW
FreeLibrary
Friday
from the resultant list. Here is a simple object:
FullDllName
function specifically to debug DynamicMethod code which was constructed on
functions provide an AppDomain pointer as well, such as !Threads where it lists
functions. Here is sample output:
g*d$q*d
G1.G():
GAIsProcessorFeaturePresent
Garbage Collector attempts to collect and reclaim memory only when required to
garbage collector. The most apparent difference in the debugger is that in 
garbage in that no code knows about the address. You can also get false 
Gate 
Gathering types...
GC Handle Statistics for AppDomain %p 
GC Handle Statistics:
GC Heap not initialized, so GC mode is not determined yet.
GC Heap Size   0x1201c(73756)
GC Heap Size  %#8I32x(%I32u)
GC Heap Size  0x5d73a8(6124456)
GC info %p
GC info 5b9f2f09
GCHandleleaks
gchandleleaks
Gchandleleaks
GCHandleLeaks
GCHandleLeaks will report any GCHandles that couldn't be found in memory.      
gchandles
GCHandles
gcinfo
GCInfo
-gcinfo
GCinfo for EJIT not supported
GCRoot
gcroot
GCRoot                             EEStack
G'dhl
GENArray
GenerateTrackingInfo=1
generation %d has %d finalizable objects 
generation %d starts at 0x%p
generation 0 has 4 finalizable objects (0015bc90->0015bca0)
generation 0 starts at 0x00a71018
generation 0 starts at 0x00c32754
generation 1 has 0 finalizable objects (0015bc90->0015bc90)
generation 1 starts at 0x00a7100c
generation 1 starts at 0x00c32748
generation 2 has 0 finalizable objects (0015bc90->0015bc90)
generation 2 starts at 0x00a71000
GENERICARRAY
GENERICArray
get an Assembly address from the output of !DumpDomain.
Get frame data failed with %lx
GetACP
GetActiveWindow
GetCommandLineA
GetConsoleCP
GetConsoleMode
GetConsoleOutputCP
GetCPInfo
GetCurrentProcess
GetCurrentProcessId
GetCurrentThreadId
GetEnvironmentStrings
GetEnvironmentStringsW
GetFileSize
GetFileType
GetFileVersionInfoA
GetFileVersionInfoSizeA
GetFrameContext failed: %lx
GetLastActivePopup
GetLastError
GetLocaleInfoA
GetModuleFileNameA
GetModuleHandleA
GetOEMCP
GetProcAddress
GetProcessHeap
GetProcessTimes
GetStartupInfoA
GetStdHandle
GetStringTypeA
GetStringTypeW
GetSystemTimeAsFileTime
GetTickCount
GetTimeFormatW
GetUserObjectInformationA
GetVersionExA
Given an address in managed JITTED code, IP2MD attempts to find the MethodDesc
Given the following two classes:
given, but merely derives from it. So, "-derived System.Exception" would catch
GlobalMemoryStatus
h /+d
h `,d
h 9'd
h D,d
h D,dRP
h f'd
h G'd
h H,d
h k'd
h N'd
h P,dj
h P,dRP
h u'd
h X,d
h X,dSW
h Z'd
H$;H s
h$B'd
h$J'd
h$r'd
h(!'dR
h(:'d
H(;H$v
h(0+d
h)pX[%
h*dUnknown exception
h@:,dh
h@}'d
h@x'd
h\='d
h\c'dh
h\g'd
h\J'd
h\l'd
h\q'd
h\S'd
h\T'd
h`*+d
h`/+d
h`{'d
h`|+dW
h`|'d
h`L'd
h`v'd
H{,d3
H{,dtV
h|@'d
h|='d
h|J'd
h|S'd
h<!'dQ
h<:,dh
h<@'d
h<='d
h<J'd
h<Q'd
h<S'd
h0#'dQ
h0++dh
h0-+d
h0F'd
h0k'd
h0L'd
h0Q'd
h0r'd
h0S'd
h0X'd
H0Y0o0
h4:,dh
H4;H0s
h4~'d
h4i'd
h4l'd
h4V'd
h8.+d
h8:,dh
H8;H4v
h8@'d
h8b'd
h8D'dPQWS
h8q'd
handle
handle addresses that couldn't be found.
HANDLE(AsyncPinned):
HANDLE(Pinned):
HANDLE(RefCnt):
HANDLE(Strong):
HANDLE(Unknwn):
HANDLE(WeakLn):
HANDLE(WeakSh):
handler, it shows the type, including code addresses and offsets for the clause
Handler: [%p, %p] [%x, %x]
Handler: [033bbd3c, 033bbd50] [9c, b0]
Handler: [033bbda3, 033bbdc5] [103, 125]
Handler: [033bbdc5, 033bbdd6] [125, 136]
HANDLETABLE_NOACCESS
handy for clean, simple traces when debugging straightforward managed 
has a memory demand of 10 Megabytes. The stress log is circular so new entries 
have an object pointer, and can attempt to run "!DumpObj" on it.
Hb+d[]
Hb+d+
hd^'d
hdi'd
hdJ'd
hDJ'd
hdJ'd
hDP'd
hDp'dW
hds'd
hdv'd
hDZ'd
He,dj
He,dt4V
Heap %d
Heap %d (%p)
heap fragmentation. This is usually caused by pinning objects for a long time 
Heap Size  %#8I32x(%I32u)
HeapAlloc
HeapCreate
HeapDestroy
HeapFree
HeapReAlloc
HeapSize
help.
Here is output for a simple program:
Here is sample output from a very simple program:
Here is sample output where you can see the change in register state. Normally 
Here is some sample output:
hh!'dh
HH:mm:ss
hH@'d
hh\'d
HH_^[
hh0+d
hH0+d
hH8'd
hHA'd
hhe'd
hHj'd
hHN'd
hhP'dh
hhR'd
HHt@HHt
HHt]+
HHtAHHt
hhX'd
hHz'd
higher-level summary of the objects registered for finalization. Note that 
HighFrequencyHeap: 
HighFrequencyHeap: %p
HighFrequencyHeap:008f2000(00008000:00001000) Size: 0x00001000 bytes.
HighFrequencyHeap:00902000(00008000:00003000) Size: 0x00003000 bytes.
HighFrequencyHeap:00922000(00008000:00001000) Size: 0x00001000 bytes.
HIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmnopqrstuvwxyz{|}~
HJ*dtJ*d
Hj,d;E
HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\.NETFramework:
hl@'d
hL{'d
hL|'dh
hl++d
hL<'d
hL>'d
hl9'd
hLi'd
hlJ'd
hLp'dW
hLT'd
HostCodeHeap: 
Hosted Runtime: %s
Hot region:
How can I do this?"
hp,+d
hP,+d
hP;'d
hp|,d
hp|+d
hP++dh
hP-+d
hPA'd
hPB'd
hpG'd
hpN'd
hpu'd
hPw'd
hPY'd
HResult: %lx
htC'dPVPS
htC'dQRj
hTJ'd
htL'd
hTO'd
hTR'd
http://blogs.gotdotnet.com/anathan/categoryview.aspx/Debugging
http://www.microsoft.com/downloads/details.aspx?FamilyId=86CE6052-D7F4-4AEB-
http://www.microsoft.com0
hX.+d
hx.+d
hx?'d
hx\'d
hx-+d
hxc'dh
hXL'd
i,dSV3
ID: %d
ID: (shared domain)
ID: (system domain)
ID: 1
identify a possible trend.                                                    
I'dh-
I'dPh
If 30% or more of the heap contains "Free" objects, the process may suffer from
If a token is unresolved, run "!do <addr>" on the addr given
If an error is found, !VerifyHeap will report it. I'll take a perfectly good 
If called with no parameters, PrintException will look for the last outstanding 
If I wanted to save a copy of mscorwks.dll, I could run:
If IsJitted is "yes," you can run !U on the CodeAddr pointer to see a 
if it points to a Pinned handle. So !GCHandleLeaks ignores the low bit in it's
If not then either the module that contains the method hasn't been loaded yet
If PreEmptiveGC is enabled for a thread, then a garbage collection 
If that succeeds, the SOS command should work on retry.
If the pointer falls within a segment range given by "!EEHeap -gc", then you do
If there are nested exceptions, you can re-run !PrintException with the 
If this gc heap corruption exists, there is a serious bug in your own code or 
If you are debugging a minidump, you need to make sure that your executable
If you are looking for a way to display a static field of a class (and you
If you are running version 1.1 or 2.0 of the CLR, SOS.DLL is installed in the 
If you are using a dump file created on another machine, it is a little bit
If you need this functionality, get a full memory dump with ".dump /ma mydump.dmp"
If you pass -detail then you get extra information on any SyncBlocks that need
If you pass the -ehinfo flag, you'll get inline display of exception info
If you pass the -gcinfo flag, you'll get inline display of the GCInfo for
If you run with the -perdomain option, you will get the same output broken 
If you use the -verify option, each non-static CLASS field of an object
Ihttp://crl.microsoft.com/pki/crl/products/MicRooCerAut2011_2011_03_22.crl0^
IL_%04x
ilAddr = %p
illegal
Image
image). The TOTAL column is (AVERAGE * BLK COUNT). Sample output below:
importance. Shortcut names for popular functions are listed in parenthesis.
important properties of the object such as the EEClass, the MethodTable, and 
In a minidump without full memory, most gc heap structures will not be valid.
In addition to your application domain, and any domains it might create, there
in an easy-to-understand xml format:
In order to run SOS commands, many CLR data structures need to be traversed. 
in parenthesis. You can also look at the token table yourself, by
In plan phase of garbage collection
In the case of hosted environments such as SQL, the module name may be 
in the CLR. In user code, an error in constructing PInvoke calls can cause 
in the current directory is created.
In the debugger at startup you can type:
in the debugger, and let it run. After the function EEStartup is finished, 
in the debugger.
in. At this time, SOS cannot reliably detect if a dump file is of this type 
in. You can pass this value to !DumpDomain to find out more. 
Incorrect argument: %s
Index SyncBlock MonitorHeld Recursion Owning Thread Info   SyncBlock Owner
Index SyncBlock MonitorHeld Recursion Owning Thread Info  SyncBlock Owner
information about that:
information for thread-safe operations.
information on diagnosing the cause.
initblk
InitializeCriticalSection
InitializeCriticalSectionAndSpinCount
initobj
in-memory log capability. The idea was to avoid using locks or I/O which could 
InMemoryOrderLinks
InMemoryOrderModuleList
InnerException: 
instance
Int16
int16
Int32
int32
int64
Int64
Integer overflow on array rank
interested in objects with invalid fields.
Interface, 
InterlockedDecrement
InterlockedIncrement
INTERNAL
InternalName
interrupted by user
IntPtr
Invalid arg
Invalid argument %s
Invalid Assembly %s
Invalid EEClass address
Invalid exception object %s
Invalid module token
Invalid object
Invalid option %s
Invalid option: option specified multiple times: %s
Invalid parameter %s
Invalid parameters %s %s
Invalid parent EEClass
Invalid parent MethodTable
Invalid signature
Invalid stress log chunk: %p
IOCompletion
IOCompletion 
IP2MD
ip2md
is a bug in the JIT Compiler. It parses the GCEncoding for a method, which is a
is a simple example of the output for a dynamic method:
is no facility to read meta-information about this memory). You can turn this 
is owned by thread 4.
is running in "Workstation" or "Server" mode, a distinction which affects the 
IsDebuggerPresent
isinst
IsJitted: %s
IsJitted: yes
IsValidCodePage
It creates a graphical display of the GC heap to help you analyze the state of
It is either in the "plan phase," where objects are being moved around, or
It is not always the case that a SyncBlock will be created for every object 
It means that Thread e04 owns object 00a7a194, and Thread ab8 owns object 
It turns a method name into a MethodDesc. Here is an example for a method:
ITRPW
j h@/+d
j"^SSSSS
j,dS3
j@j ^V
j4Wh<
JanFebMarAprMayJunJulAugSepOctNovDec
January
Jit code heap:
JITTED Code Address: %p
JITTED Code Address: 03ef00b8
jjjjj
jjjjjj
jjjjjjjj
K*d L*d
k,d~1V
k,dW3
Kernel CPU time   : %d days %02d:%02d:%02d.%02d
KERNEL32
KERNEL32.DLL
kernel32.dll
Kernel32.dll
KERNEL32.dll
-l parameter can be used to show information on local variables in a frame.
L$ Qh
L$ Qhd`'d
L$ QW
L$ QWh
L$ RPQh
L$ SUj
L$ Wj
L$$Qj
L$$QP
L$$QR
L$$QS
L$$QUj
L$(PQh
L$(Qh
L$(Qh@
L$(Qhp['d
L$(Qj
L$(QRW
L$(QWR
L$,QR
L$,QS
L$@Qh
L$@QhPg'd
L$@QP
L$\QPh
L$\QR
L$`Qh$g'd
L$`Qj
L$`Qjh
L$`QW
L$`RPQh
L$|Qh
L$|QUVSW
L$0Qjh
L$4Qh
L$4Qj
L$8j\Q
L$8PQh|J'd
L$8QR
L$dPQh
L$dQRPUS
L$hQh
L$HQh(`'d
L$HQj8
L$HQPh(_'d
L$JQh(['d
L$LPQh
L$lQR
L$LQRP
L$lUSQ
L$NQh
L$PQj
L$pQj
L$pWj
L$XPQhLc'd
L$XQh
-L:,d
L{,du$h
l|,dVWu
L1T1\1d1l1t1|1
Large
Large        2,461,696     16,703,488     11,956,224          3     35,868,672
Large        6,303,744    974,778,368    169,089,706         12  2,029,076,472
Large object heap starts at 0x%p
Large object heap starts at 0x01a71000
Last good object: %p
Last good object: 00a73d14
Last good object: 00a79d2c
Lb+d|
LCMapStringA
LCMapStringW
ldarg
ldarg.0
ldarg.1
ldarg.2
ldarg.3
ldarg.s
ldarga
ldarga.s
ldc.i4
ldc.i4.0
ldc.i4.1
ldc.i4.2
ldc.i4.3
ldc.i4.4
ldc.i4.5
ldc.i4.6
ldc.i4.7
ldc.i4.8
ldc.i4.m1
ldc.i4.s
ldc.i8
ldc.r4
ldc.r8
ldelem
ldelem.i
ldelem.i1
ldelem.i2
ldelem.i4
ldelem.i8
ldelem.r4
ldelem.r8
ldelem.ref
ldelem.u1
ldelem.u2
ldelem.u4
ldelema
ldfld
ldflda
ldftn
ldind.i
ldind.i1
ldind.i2
ldind.i4
ldind.i8
ldind.r4
ldind.r8
ldind.ref
ldind.u1
ldind.u2
ldind.u4
ldlen
ldloc
ldloc.0
ldloc.1
ldloc.2
ldloc.3
ldloc.s
ldloca
ldloca.s
ldnull
ldobj
LDR_DATA_TABLE_ENTRY
ldsfld
ldsflda
ldstr
ldtoken
ldvirtftn
leave
leave.s
LeaveCriticalSection
leaving both threads with no option but to wait forever in the second lock 
Legal_Policy_Statement
Legal_policy_statement
LegalCopyright
Length
-length
Let the program run, and it will stop with the notice
LF_ALWAYS
LF_APPDOMAIN
LF_ASSERT
LF_BCL
LF_CLASSLOADER
LF_CODESHARING
LF_CORDB
LF_CORPROF
LF_DBGALLOC
LF_EEMEM
LF_EH
LF_ENC
LF_GC
LF_GCALLOC
LF_GCINFO
LF_GCROOTS
LF_IJW
LF_INTEROP
LF_JIT
LF_LOADER
LF_LOCKS
LF_MARSHALER
LF_METADATA
LF_REMOTING
LF_SECURITY
LF_STARTUP
LF_STORE
LF_STUBS
LF_SYNC
LF_THREADPOOL
LF_VERIFIER
LF_ZAP
Lf+dR
lfuFu
lifetime of your application, you may have a GCHandle leak. This will cause   
like:
-live
Live debugging session required
-live:     optional. Only print threads associated with a live thread.
Lj,d;E
load of mscordacwks.dll.  .cordll -ve -u -l will do a verbose reload.
loaded from an assembly store (such as a SQL db) rather than disk, the
loaded from.
loaded in the process. You shouldn't attempt to use a version of SOS.DLL that 
loaded managed module. <module name> can also be the debugger's name for a 
-loader
Loader Heap:
LoaderCodeHeap: 
LoaderHeap: %p
LoaderHeap: 001cab3c
LoadLibraryA
LoadResource
localloc
LockResource
log entry, and the fourth contains the log message. The facility field is 
log, you would probably want the Shared Source CLI to find out exactly where 
long-lived objects eventually get "promoted" to generation 2.
LowFrequencyHeap: 
LowFrequencyHeap: %p
LowFrequencyHeap:008f0000(00002000:00001000) Size: 0x00001000 bytes.
LowFrequencyHeap:00900000(00002000:00001000) 03ee0000(00010000:00003000) Size: 0x00004000 bytes.
LowFrequencyHeap:00920000(00002000:00001000) 03e30000(00010000:00003000) Size: 0x00004000 bytes.
M(hXj'd
m_code
m_debugString
m_handle
m_resolver
m_runtimeType
m_scope
m_tokens
m_valuetype is a value type. The value in the MT column (0090320c) is the 
M0K0I
M4PQhlj'd
Mainy.DebugBreak
Mainy.Is
Mainy.Level
Mainy.The
Mainy.This
Mainy.Top
make sense of it. You would usually come to use it if you suspect a gc heap 
make sure you have valid symbols.
managed objects. It is important to keep track of this information, because if 
managed thread. You can run !threads to get a list of managed threads in
-ManagedExcepStack
Mapped
MapViewOfFile
March
-max      Ignore objects larger than the size given in bytes
MAXIMUM
may be some noise in this output, as an unmanaged application may be storing  
MDArray
m'dh`m'd
mdToken: %08x
mdToken: %08x 
mdToken: %p (%S)
mdToken: 0600000b
mdToken: 0600000d
Medium
Medium         139,264        528,384        337,920          4      1,351,680
Medium         249,856      1,019,904        521,557          6      3,129,342
Megabyte array alive because a strong GCHandle points to it, and the handle was
Member (mdToken token) of
MemberRefToDescMap: %p
MemberRefToDescMap: 03ec00e8
Memory
Memory Availability (Numbers in MB)
memory for any references to the Strong and Pinned GCHandles in the process, 
memory in that range, you'll see the object pointers that are registered:
memory scan with Control-C or Control-Break.                                   
Message: 
MessageBoxA
MetaData start address: %p (%d bytes)
MetaData start address: 0040220c (1696 bytes)
MetaData start address: 00402230 (1888 bytes)
METHOD
method 
Method info block:
method might correspond to a "mov edi,ecx" statement.
Method Name: %S
Method Name: MainClass.Main()
Method Name: Mainy.Main()
method of my application, but SOS doesn't work until the runtime is loaded.
Method Table: %p
method. For example, the notation "reg EDI becoming live" at offset 0x11 of the
MethodDefToDescMap: %p
MethodDefToDescMap: 03ec0064
MethodDesc
MethodDesc = %p
MethodDesc Table
MethodDesc. Here is an example showing class tokens being resolved:
MethodDesc: %p
MethodDesc: <not loaded yet>
MethodDesc: 00902f40
MethodDesc: 03310f68
methods of finding the AppDomain failed. Try running
MethodTable %p
MethodTable 0090320c
MethodTable for it, and the Value column provides the start address:
MethodTable: %p
MethodTable: <not loaded yet>
MethodTable: 009032d8
MethodTable: 0090375c
MethodTable: 009038ec
MethodTable: 0331121c
MethodTable: 03e41044
MethodTable: 11a47ae0
Microsof
Microsoft
Microsoft Code Signing PCA 2011
Microsoft Code Signing PCA 20110
Microsoft Corporation
Microsoft Corporation0
Microsoft Corporation1
Microsoft Corporation1&0$
Microsoft Corporation1(0&
Microsoft Corporation1)0'
Microsoft Corporation1200
Microsoft NTSD extension for .NET Runtime
Microsoft Time-Stamp PCA 2010
Microsoft Time-Stamp PCA 20100
Microsoft Time-Stamp Service
Microsoft Time-Stamp Service0
Microsoft Visual C++ Runtime Library
might store the handle in a strange way (shifting bits, for example).
-min      Ignore objects less than the size given in bytes
minidumpmode
Minidumpmode
MinidumpMode
Minidumps created with ".dump /m" or ".dump" have a very small set of 
MINIMUM
minimum set of SOS debugging commands to work. At this time, those commands 
Missing EEClass address
Missing MethodTable address
Missing quote in %s
Missing value for option %s
mkrefany
MM/dd/yy
Mode must be 0 or 1
Module %p: 
Module 001c03f0: Size: 0x00000000 bytes.
Module 001c03f0:Size: 0x00000000 bytes.
Module 001c1320: Size: 0x00000000 bytes.
Module 001c1320:Size: 0x00000000 bytes.
Module 001caa38: Size: 0x00000000 bytes.
Module 001caa38:03ec0000(00010000:00002000) Size: 0x00002000 bytes.
Module 5ba22410: Size: 0x00000000 bytes.
Module 5ba22410:Size: 0x00000000 bytes.
Module does not have base address
Module in 
Module Lookup Table heaps:
module name will look like this:
Module Thunk heaps:
module, such as mscorlib or image00400000.
Module: %p
Module: %p (%S)
Module: 001caa38
Module: 001caa78
Module: 001e2fd8
Module: 10f028b0 (price, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null)
Modules. For example:
Monday
more complex. You need to make sure the mscordacwks.dll file that came with
more info.
More than %d heap segments, there must be an error
More threads were found than specified by DacpThreadStoreData.threadCount
more useful aspects is that it will format the _stackTrace field, which is a 
MPSRQ
mscoree.dll
mscorlib or image00400000.
mscorwks
MSCORWKS!StressLog::theLog
MSCORWKS.DLL by running 
-mt       List only those objects with the MethodTable given
MTA Interfaces to be released: %d
MTA Interfaces to be released: 0
mul.ovf
mul.ovf.un
MultiByteToWideChar
multiple processors, you can expect to see a GC Heap of 400MB or more. The 
Must pass a valid expression
n %d 1 %d %d
N0L0J
Name: 
Name: %S
Name: %S[
Name: %ws
Name: Bank
Name: C:\pub\unittest.exe
Name: Customer
Name: Funny
Name: MainClass
Name: MainClass.Main()
Name: Mainy
Name: Price
Name: Shared Domain
Name: System Domain
Name: unittest.exe
Name: Value[]
name2ee
Name2EE
Name2EE                            FindAppDomain
native float
native int
Native Real
native uint
negatives because a user is free to pass that GCHandle to unmanaged code that 
-nested
Nested exception -------------------------------------------------------------
newarr
newobj
No EH info available
No GC info available
No Stress log in the image, no file written
-nofields
-nofields has no effect unless -details is specified
-nofields:     do not print fields of the object, useful for objects like 
NoName
non-static values won't because you need an instance of an object for that.
Normal JIT generated code
Normal JIT:03ef0000(00010000:00002000) Size: 0x00002000 bytes.
-nostacks
Not a managed object
Not a valid exception object
not a valid MethodDesc
Not an array, please use !DumpObj instead
Not enough memory for complete fragmentation report
Not enough memory to read IL
Not enough memory to trace the heap
Not jitted yet
Not JITTED yet.
Not JITTED yet. Use !bpmd -md %p to break on run.
not supported
Not supported on mini dumps.
Note that !PrintException with no parameters will print out the last thrown
Note that dynamic IL is constructed a bit differently. Rather than referring
Note that fields of type Customer and Bank are themselves objects, and you can 
NOTE:
Note: Roots found on stacks may be false positives. Run "!help gcroot" for
NOTE: THIS FILE CONTAINS SOS DOCUMENTATION. THE FORMAT OF THE FILE IS:
-notification
November
ntdll
ntdll!KiUserExceptionDispatcher
ntdll.dll
NtQueryInformationProcess
Number of characters requested: %d
Number of GC Heaps: %d
Number of GC Heaps: 1
Number of IFaces in IFaceMap: %x
Number of Timers: %d
NumInstanceFields: %x
NumStaticFields: %x
o 0x%p %d %d 
O0M0K
Object
object
Object %p has no generation
object %p: bad GCDesc
object %p: bad member %p at %p
object %p: bad MT
object %p: does not have valid MT
object %p: fail to read members
object %p: missing card_table entry for %p
object %p: size %d too small
object 00a73d24: does not have valid MT
object 00a79d40: bad member 00000001 at 00a79d44
object and corrupt it:
Object header for %p should have a SyncBlock index of %d
object in question. ThinLocks will not be reported by the !SyncBlk command. 
Object Inspection                  Examining code and stacks
objects ready for finalization are also included in the statistics (if any).
Objects with Finalizers are the easiest case, as the CLR needs to be able to 
objects, such as a managed cache in a web server.
objects, there is a -nostacks option.
ObjSize
objsize
ObjSize                            GCInfo
October
of any objects pointed to by those handles. In calculating object size, 
of mscordacwks.dll, with names like mscordacwks_<architecture>_<version>.dll
of value classes, while others do not.
of work requests in the queue, number of completion port threads, and number of
Offset
offset 
oK0D$"<
on by default because very often in a debugging scenario, you are 
On IA64 and x64 platforms, Transition Frames are not displayed at this time.
once you have the EEClass, you can run !DumpClass, which will display the
One would issue the following commands to set breapoints on G3.F() and 
ones are discussed below:
only read %x bytes at %p
operator
option on to protect against running unsafe commands against small minidumps.
or is old (discarded) data. You would have to use !CLRStack and !U to 
or the module is loaded, but the function is not jitted yet. In these cases,
OriginalFilename
OS Thread Id: 0x%x 
Other Handles: %d
Other Handles: 0
Out of memory
output to "interesting" threads only, which is defined by
P!*da!*d
P{,d 
P{,dr
P{,dr!
P{,ds
P{,dsR
P{,dsS
p|,d3
P+dhl
P+dhL
P+dhx
P+dPj
P+dSj
P+dVj
P+dWj
Page File         %8d     %8d
PagefileUsage:  %8d KB       PeakPagefileUsage:  %8d KB
parameters.
Parent Class: %p
Parent Domain: %p
Parent Domain: 0014f000
particular managed exception, say a System.OutOfMemoryException, but continue
particular types, restrict to a range, or look for ThinLocks (see !SyncBlk 
particularly in the area of PInvoke/Interop. Adam Nathan has written some great
passed directly to !DumpStack. The -short option tries to narrow down the 
path is pointing to mscorwks.dll as well.
PDB symbol for mscorwks.dll not loaded
PEB_LDR_DATA
PEFile 
PendingThread: %d
-perdomain
Ph$X'd
Ph($'dR
Ph(^'d
Ph,>'d
Ph,A'd
Ph,z'd
Ph@m'd
Ph@u(d
Ph\C'd
Ph`|+d
Ph`e'd
Ph<]'d
Ph0|'d
Ph0e'd
Ph0E'd
Ph8"'dQ
Ph8U'd
Phh?'d
PhHe'd
Phl>'d
Phpl'd
PhX%'d
Physical Memory   %8d     %8d
pinned 
PINNED 
Pinned Handles: %d
Pinned Handles: 3
places:
Please contact the application's support team for more information.
Please note that %p is not a valid object.
pointer for the method, or a code address within the method body. Unlike the
pointer if provided.
pointer in the output can be passed to !DumpModule. Any AppDomain pointer can 
Pointer table:
positives. If you still suspect a leak, use this function over time to        
possibility is eliminated, consider contacting Microsoft Product Support for
PPh$C'd
PPPPP
PPPPPPPP
PQh(d'd
PQh<d'd
PQhHS'd
PQhx$'dR
PQRh 
PQRh|
PQVhX
prefix1
prefix2
prefix3
prefix4
prefix5
prefix6
prefix7
prefixref
PreJIT
preJIT generated code
Presents an annotated disassembly of a managed method when given a MethodDesc
prevent the garbage collector from moving an object during collection. These 
price, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
printexception
PrintException
Printexception
PrintException (pe)                COMState
prints the type name and MethodTable they refer too. Sample output:
Private
Process Memory
Process Started at: %4d %s %2d %d:%d:%d.%02d
Process Times
process. It enumerates each Assembly loaded into those AppDomains as well. 
ProcessParameters
ProcInfo
procinfo
ProductName
ProductVersion
Program: 
programs. Functions are listed by category, then roughly in order of
programs. The -p parameter will show arguments to the managed function. The 
Protect
protection applied to that memory (free, reserved, committed, private, mapped, 
Provides a summary view of the virtual address space, ordered by each type of 
provides a warning about fragmentation:
PRPVh
PRWQS3
Pseudo-register number must be between 0 and 19
PSUVWh0o'd
PSVQht
PSVWh
public class G1<T> {
public void F(T1 p1, T2 p2, T3 p3)
push 
Put the following lines in myapp.ini and re-run:
PVh8~'dh
PVVh>
pW'dPh4W'd
pW'dQ
PWh &'d
PWh@&'d
PWh`&'d
PWQhD
Q8VVVh
QEX82q'
Qh !'d
Qh U'd
Qh$g'd
Qh(?'d
Qh(@'d
Qh(e'd
Qh@e'd
Qh|J'd
QhlU'd
QhTn'd
Qhts'd
Qhx]'d
QhXe'd
QhXM'd
QPh8|'d
QPWh,
QQSV3
QRh<d'd
QRhdo'd
QRPhD
QRPhL
QRPhx
QRPSV
QSh8%'d
QSRWP
QSUVW
QSWVj
QueryPerformanceCounter
QueueUserWorkItemCallback DelegateInfo@%p
Quitting at %p due to user abort
r$t%d=0
r$t%d=1
r~akow
R0P0N
R6002
R6008
R6009
R6016
R6017
R6018
R6019
R6024
R6025
R6026
R6027
R6028
R6030
R6031
R6032
R6033
R6034
RaiseException
Rather than scraping, !DumpStack mimics the debugger's "K" command. 
RCW             %d
Rcwcleanuplist
rcwcleanuplist
RCWCleanupList
ReadFile
readonly.
ReadVirtual failed with code hr = %x.
Ready for finalization %d objects 
Ready for finalization 0 objects (0015bca0->0015bca0)
READYFORMANAGEDCODE
receive news of module loads and JITs, at which time it will try to resolve 
Redmond1
Ref Count Handles: %d
Ref Count Handles: 0
refanytype
refanyval
Reference found in stress log will be ignored
reference. This might be a stack address or a field within an object, for 
Reflection 
rem.un
Reserve
Reserve:
rethrow
rexception during reading PEB
Rh !'dP
Rh e'd
Rh m'd
Rh,M'd
Rh@x(d
Rh`V'd
Rh8e'd
RhH:,dP
RhH?'d
Rhl<'d
RhPe'd
RhPU'd
RhT\'d
RhT]'d
RhtJ'd
Richb-m
Root:
roots (You can use !GCRoot to find out). The statistics section provides a 
roots are keeping it alive. Or you can find all objects of that type with 
RPh(d'd
RPh|J'd
RPh<c'd
RPhtf'd
RPQhh
RPVh8H'd
RPWVQ
RQPhPf'd
RQPWV
RtlUnwind
run !DumpObj on them too. You could look at the field directly in memory using
run against a minidump.
running "!DumpArray %p".
running if other exceptions are thrown. The command can be used in two ways:
runtime error 
Runtime Error!
RuntimeCallableWrappers (RCW) to be cleaned:
S QRh\
S$;S(u
S$;S(u$;C
S(d,S(dBS(dZS(dpS(d
S0Q0O
same directory as the main CLR dll (MSCORWKS.DLL). Newer versions of the 
Sample output:
Saturday
savemodule
SaveModule
SByte
Scan Thread %d OSTHread %x
scan wouldn't be able to find those.                                          
searches.
Searching %p...
Searching for the first %d handles, ignoring the rest
Searching memory
section %d - VA=%x, VASize=%x, FileAddr=%x, FileSize=%x
section 0 - VA=1000, VASize=e82da9, FileAddr=400, FileSize=e82e00
section 1 - VA=e84000, VASize=24d24, FileAddr=e83200, FileSize=ec00
section 2 - VA=ea9000, VASize=5a8, FileAddr=e91e00, FileSize=600
section 3 - VA=eaa000, VASize=c183c, FileAddr=e92400, FileSize=c1a00
Security
SecurityDescriptor: %p
SecurityException Message: 
See "!help bpmd" for more details.
see that only generation 0 (the youngest generation) has any objects registered
See the documentation for !DumpStack for more info.
September
Server mode with %d gc heaps
SetEndOfFile
SetFilePointer
SetHandleCount
SetLastError
SetStdHandle
Setting breakpoint: %s [%S]
SetUnhandledExceptionFilter
s'h$B'd
Shared
shared
Shared Domain: %p
Shared Domain: %x
Shared Domain: 5e066970
ShL!'dP
-short
-short    Limits output to just the address of each object. This allows you
should be used sparingly, and for short periods of time. If you don't follow 
show the mapping between metadata tokens and types/methods in a friendlier way. 
shr.un
ShTp'd
Shutdown 
ShutdownHelper 
signs of corruption. It walks objects one by one in a pattern like this:
similar to !DumpObj. Although static field values will be displayed, 
Simple Context information:
SING error
Single
Size %d(0x%x) bytes
Size: %d(0x%x) bytes
Size: 0x%x(%d)bytes.
Size: 0x%x(%lu)bytes.
Size: 132(0x84) bytes
Size: 20(0x14) bytes
Size: 28(0x1c) bytes
sizeof
sizeof(%p) = %12I32u (%#12I32x) bytes
sizeof(00a79d40) =      152 (    0x98) bytes (Customer)
SizeOfImage
Sleep
Slots in VTable: %d
Small
Small            4,096         65,536         43,957         41      1,802,237
Small            4,096         65,536         48,393         27      1,306,611
So the total size of the GC Heap is only 72K. On a large web server, with 
Some handles were not found. If the number of not-found handles grows over the
SOS can't retrieve local names at this time, so the output for locals is in
SOS Error: Out of memory
SOS failure
SOS failure!
SOS is a debugger extension DLL designed to aid in the debugging of managed
SOS Version: %u.%u.%u.%u
SOS.dll
sos.dll
sos.dll needs a full memory dump for complete functionality.
SOS.DLL:
SOS.pdb
sosflush
SOSFlush
source of a memory leak is a GCHandle leak. For example, code might keep a 50 
-special
Special thread information is not available in mini dumps.
-special:  optional. With this switch, the command will display all the special
SPh(j'd
SSSSS
SSSSW
STA Interfaces to be released: %d
STA Interfaces to be released: 1
stack
StackTrace (generated):
StackTraceString: 
Stackwalking is done very differently on these platforms, so SOS allows the
Stage: %s
starg
starg.s
Start
-start
start     Begin listing from this address
start    end        module name
Start    Stop     Length    AllocProtect  Protect       State    Type
Start index out of range
start. If you pass the "-MD" flag, you'll also see a list of all the methods 
-startatlowerbound
-startAtLowerBound 
-stat
-stat     Restrict the output to the statistical type summary
State
statement will set MyObject to be owned by the current thread. A SyncBlock will
statement. !SyncBlk will detect this with the following output:
static
static public void G<W>(W w)
Statistics:
stelem
stelem.i
stelem.i1
stelem.i2
stelem.i4
stelem.i8
stelem.r4
stelem.r8
stelem.ref
stfld
stind.i
stind.i1
stind.i2
stind.i4
stind.i8
stind.r4
stind.r8
stind.ref
stloc
stloc.0
stloc.1
stloc.2
stloc.3
stloc.s
stobj
Stoponexception
stoponexception
StopOnException
Stress log address = 0x%p
Stress log in module 0x%p
STRESS LOG:
StressLog TaskSwitch Marker
StressLog.txt
StressLogSize is the size in bytes of the in-memory log allocated for each 
strike: Failed to store segment
string
String
STRING %x
String Value
String: 
String[100]" actually creates a System.Object array, but it can only hold
StringFileInfo
-strings
-strings  Restrict the output to a statistical string value summary
Strong and Pinned GCHandles are reported at this time. You can safely abort the
Strong Handles: %d
Strong Handles: 13
struct, and lives on the stack or within an Object on the GC heap. You need
stsfld
StubHeap: 
StubHeap: %p
StubHeap:008fa000(00002000:00001000) Size: 0x00001000 bytes.
StubHeap:0090a000(00002000:00001000) Size: 0x00001000 bytes.
StubHeap:0092a000(00002000:00001000) Size: 0x00001000 bytes.
sub.ovf
sub.ovf.un
Success
SUCCESS: Stress log dumped
Summary
Summary          4,096     16,703,488        816,005         50     40,800,250
Summary          4,096    974,778,368     47,249,646         43  2,031,734,778
Sunday
SunMonTueWedThuFriSat
SupportsUpdateableMethods
SuspendEE 
SUVW3
SUWh(K'd
SVWPh-
SVWt/
SVWuA
SVWUj
switch
SwitchToFiber
sxe %s "!soe %s %s %s;.if(@$t%d==0) {g} .else {.echo '%s hit'}" clr
sxe -c "!bpmd -notification;g" clrn
SyncBlk
syncblk
SyncBlk                            SaveModule
SyncBlk table validation failed
SyncBlock
SyncBlock %d corrupted, points to invalid object %p
SyncBlock %d is invalid%s
SyncBlocks to be cleaned by the finalizer thread:
SyncBlocks to be cleaned up: %d
SyncBlocks to be cleaned up: 0
System
System Domain: %p
System Domain: 5e0662a0
System.Exception
System.Object arrays that are constrained to contain Strings. ("new 
System.RuntimeType
System.RuntimeType+RuntimeTypeCache
System.Security.SecurityException
System.String object pointers). You can use -type in a special way to find
SystemTimeToTzSpecificLocalTime
SZARRAY
SZArray
t %d 0 %S
t!ht|,d
t#h\p'd
t#SSUP
T$ hP
T$ QR
T$ Rh
T$ Rj
T$ RjH
T$ RP
T$ RW
T$ Sj
T$$QRh$
T$$RjH
T$$RP
t$$VSS
T$(QRh
T$(Rh
T$(Rh8
T$(Rj
T$(RjH
T$(RP
T$(RSP
T$,QR
T$,QRh
T$,RhP`'d
T$,RP
t$;\$
T$@Rh
T$@RP
T$\Rh8f'd
T$`Rh
T$`RP
T$|Rj
T$<QRh
T$<RSj
T$0Rj
T$0RSS
T$2RhX['d
T$4Rj8j
T$4RP
T$4RV
t$4w.
T$8Rj
T$8RP
T$8RV
T$8UUUj
T$dPQRh
T$dRh
T$DRh
T$dRh
T$HRh
T$LRh
T$LRj
T$lRj8
T$LRP
T$LRP3
T$LRQPhXb'd
T$PRj
T$pRP
T$PRP
T$PRS
T$pWj
T$TRh@g'd
T$tRj8
T$tWj
t$Vh0R'd
T$XRP
t%h(\'d
T(d!T(d4T(d>T(d
t)WPV
t*h|d'd
t.hPd'd
t\9|$
t^9(uZ
T_'du
T`,dt
t|+dl
t+WWVPV
t<j[V
t=hp_'d
t=hX_'d
T08QRhT
t0QPh(~'dh
t0WWWWW
t1h0Z'd
t1hPZ'd
t4QPh
tail.
take the MethodTable pointer in the MT column, and the Value and pass them to 
Task was switched from %x
tb9} u
tCSVWh@
tD9(u@
tDHt0
TEB information is not available so a stack size of 0xFFFF is assumed
tehAT*d
TerminateProcess
tGHt.Ht&
t'h@k'd
Thales TSS ESN:C4BD-E37F-5FFC1%0#
that can provide full or partial output are:
That indicates a serious problem. See the help for !VerifyHeap for more 
that install is on your symbol path, and you need to load the corresponding
that is locked by a thread. In version 2.0 of the CLR and above, a mechanism 
that log out to a file. If no Filename is specified, the file "Stresslog.txt" 
that precept, the gc heap can become very fragmented.
That said, if a serious leak is going on, you'll get a ever-growing set of 
that shows up in a run of !Threads.
that the Windows Debugger can load. If you have the correct symbol path to the
That will load the SOS extension DLL from the same place that MSCORWKS.DLL is 
The abbreviation !do can be used for brevity.
The abbreviation !dso can be used for brevity.
The abbreviation !pe can be used for brevity.
the AppDomain of that stack with !threads. Note that
The APT column gives the COM apartment mode. 
The arguments in detail:
The base address of an image can be found with the "LM" debugger command:
The column VT contains the value 1 if the field is a valuetype structure, and
the command !DumpVC.
The command has diagnostic output which doesn't need to be repeated here. One 
the current AppDomain for each thread.
the current stack. Combined with the stack tracing commands like K and 
The current thread is unmanaged
The -derived option will cause StopOnException to set the pseudo-register to
The diagnostic output indicates that the operation was successful. If 
The Domain column indicates what AppDomain the thread is currently executing
The EEClass is a data structure associated with an object type. !DumpClass 
The first column is the OS thread ID for the thread appending to the log, 
The first command is "contents" which is the general help screen. The rest 
the fly. Happily it works for non-dynamic code as well.
the format <local address> = <value>. The -a (all) parameter is a short-cut
the freachable queue of the finalizer. Some caution about the stack roots: 
the function to a breakpoint.
The garbage collector data structures are not in a valid state for traversal.
The GC heap is divided into generations, and objects are listed accordingly. We
the GC Heap to grow larger as objects are being kept alive, referenced only   
the handle in a non-standard way, perhaps with some bits flipped. The memory  
The information for the Garbage Collector lists the ranges of each Segment in 
The loader output lists various private heaps associated with AppDomains. It 
the log comes from.
The log facilities are defined as follows:
the managed heap. This can be useful if you believe you have an object pointer.
The Maps listed map metadata tokens to CLR data structures. Without going into 
the method. You can also obtain this information with the !GCInfo command.
The module you are "browsing" with Name2EE needs to be loaded in the process. 
The module you are "browsing" with Token2EE needs to be loaded in the process. 
The most common handles are "Strong Handles," which keep the object they point 
the offset given. "dd a79d40+8 l1" would allow you to look at the bank field 
The optional argument addr allows one to specify a stress log other then the 
the output is very noisy and potentially confusing. The command is good for
the process
The pseudo-register number is optional. If you don't pass a number, SOS will 
the second column is the timestamp, the third is the facility category for the 
the size.
The start/end parameters can be obtained from the output of !EEHeap -gc. For 
the Thread could have transitioned between multiple
The type is declared in the shared domain and other
The Windows Debugger syntax of <module>!<type> is also supported. You can
There are multiple modules with the same name...
There are nested exceptions on this thread. Run with -nested for details
there are no objects ready for finalization, presumably because they still have
There are three ID columns: 
There is a new option "-mt", which will display the types defined in a module,
There is no current managed exception on this thread
There is yet one more way to specify a module name. In the case of modules
there will be a minimal managed environment for executing SOS commands.
these arrays. Just pass "-type System.String[]" and those Object arrays will
thing to keep in mind is that anytime you search all of memory for a value, you
-thinlock
ThinLock owner %x (%p), Recursive %x
-thinlock Report on any ThinLocks (an efficient locking scheme, see !SyncBlk 
This application has requested the Runtime to terminate it in an unusual way.
This brings up a good question: "I want to set a breakpoint on the main
This command allows you to examine elements of an array object.
This command allows you to examine the fields of an object, as well as learn 
This command allows you to take a image loaded in memory and write it to a 
This command is an aid in tracking down GCHandle leaks. It searches all of 
This command is not supported in a minidump without full memory
This command lists basic information about the ThreadPool, including the number
This command lists information about a MethodDesc. You can use !IP2MD to turn 
This command lists the objects registered for finalization. Here is output from
This command provides a verbose stack trace obtained by "scraping." Therefore
This command runs !DumpStack on all threads in the process. The -EE option is 
This command will display any managed objects it finds within the bounds of 
This DynamicMethodDesc is not yet JITTED. Placing memory breakpoint at %p
This function allows you to turn a class name into a MethodTable and EEClass. 
This function allows you to turn a metadata token into a MethodTable or 
This function doesn't see much use, especially since a tool like ILDASM can 
This function is important for CLR Devs, but very difficult for anyone else to 
this function, then continue.
This indicates a bug in your application.
This indicates a bug in your application. It is most likely the result of calling an MSIL-compiled (/clr) function from a native constructor or from DllMain.
This is a deadlock situation, as Thread A could take r1, and Thread B r2, 
This is because a Customer points to a Bank, has a name, and the Bank points to
This is dynamic IL. Exception info is not reported at this time.
this log in the process. For example, 20 threads with 524288 bytes per thread 
This makes !SyncBlk useful for detecting managed deadlocks. Consider that the
This means that the CLR is not loaded yet, or has been unloaded. You need to 
This means TypeDef token 2 maps to a MethodTable with the value 0090320c. You 
This prints the Common Language Runtime version. It also tells you if the code 
this problem, and running with Managed Debugging Assistants is advised. If that
This will format fields of any object derived from System.Exception. One of the
THREAD
THREAD  TIMESTAMP     FACILITY                              MESSAGE
Thread %3d
thread exits.
thread in the process. In the case above, each thread gets a 64K log. You 
Thread state = a030
ThreadCount: %d
Threadpool
ThreadPool
threadpool
ThreadPool                         MinidumpMode 
ThreadpoolWorker 
Threads
threads
threads. It also enumerates all GCHandles in the process, and totals the size 
ThreadStaticOffset: %x
ThreadStaticsSize: %x
throw
Thursday
tHVhD
t'hXW'd
ti9\$4ui;
-time
Timer 
timers.
Tj,dt
Tj,dtqP
tJVUP
tKWVP
tL*d|L*d
TLOSS error
TlsAlloc
TlsFree
TlsGetValue
TlsSetValue
TLstatic
tNSPh
to a loaded, jitted or ngen'd function it will create a breakpoint with "bp".
To aid in diagnosing hard-to-reproduce stress failures, the CLR team added an 
to alive until the handle is explicitly freed. "Pinned Handles" are used to 
to be cleaned up, and on any RuntimeCallableWrappers (RCWs) that await cleanup.
to be fully qualified.
To get a type name exactly right, first browse the module with ILDASM. You
to know the MethodTable address to tell SOS how to interpret the fields, as
to metadata tokens, the IL points to objects in a managed object array. Here
To try the command anyway, run !MinidumpMode 0
To turn on the stress log, set the following registry keys under
Token: 0x%p
Token: 0x02000002
Token: 0x02000003
Token: 0x02000004
Token: 0x02000005
Token: 0x0600000d
Token2EE
token2ee
Token2EE                           VMStat
too much detail, you can examine memory at those addresses to find the 
TOTAL
Total
Total           %d
Total  CPU time   : %d days %02d:%02d:%02d.%02d
Total %d objects
total %d objects
Total 17 objects
Total 4 objects
Total 5 objects
total 5 objects
total 619 objects
Total LoaderHeap size: 0x%I32x(%I32u)bytes
Total LoaderHeap size: 0x15000(86016)bytes
Total Method Slots: %x
Total Size   0x1201c(73756)
Total Size  %#8I32x(%I32u)
Total Size  0x5d73a8(6124456)
Total size: 0x%I32x(%I32u)bytes
Total size: 0x%x(%d)bytes
Total size: 0x0(0)bytes
Total size: 0x2000(8192)bytes
Total size: 0x3000(12288)bytes
Total size: 0x6000(24576)bytes
Total size: 0x8000(32768)bytes
Total: %d
TotalSize
tqQPh$
tracing roots...
Translation
traverseheap
TraverseHeap
Traverseheap
TraverseHeap                       BPMD 
Traversing a gc heap failed
Tuesday
Turn on Managed Debugging Assistants. These enable additional runtime diagnostics, 
tVHtG
-type
TYPE           MINIMUM        MAXIMUM        AVERAGE  BLK COUNT          TOTAL
-type     List only those objects whose type name is a substring match of the 
Type "!help <functionname>" for detailed info on that function. 
Type MethodTable: %p
Type Name: %S
type sets breakpoints on all already JIT-ted generic methods and sets a pending 
type:
TYPED
TypedByRef
TypeDef
TypeDefToMethodTableMap: %p
TypeDefToMethodTableMap: 03ec0010
typedref
TypedReference
TypeRef
TypeRefToMethodTableMap: %p
TypeRefToMethodTableMap: 03ec0024
Types defined in this module
types in a module with !DumpModule -mt <module pointer>.
Types referenced in this module
tySSS
u WPS
U X,d
u!PWhlj'd
u";|$
u$9\$
u$Ph\
u&f!;f;
u&WVS
u(hL^'d
u*Sh(^'d
u*Sh|r'd
u,hLT'd
u.;>r
u_Sh$
u`hh~'d
U0S0Q
u19D$$u+h
u1Wh(}'d
u2;>r
u2f9-
u59=,`,d
u6SSj
U7tb!
u8SS3
uChH~'d
udVVh8
UdWRh(j'd
uEhl~'d
UInt16
uint16
uint32
UInt32
UInt64
uint64
uint8
UIntPtr
uL9=He,dt3V
ULPQRh`k'd
Unable to build snapshot of the garbage collector state
Unable to decipher generated stack trace
Unable to determine bounds of gc heap
Unable to display fields
Unable to display GC handles
Unable to find stress log via DAC
Unable to get AppDomain %lx
Unable to get AppDomain %p
Unable to get AppDomain information
Unable to get appdomain store
Unable to get array of AppDomains
Unable to get array of Assemblies
Unable to get array of JIT Managers
Unable to get code heap info
Unable to get codeHeader information
Unable to get IMetaDataImport for module %p
Unable to get JIT info
Unable to get method name for MethodDesc %p
Unable to get module
Unable to get shared domain info
Unable to get system domain info
Unable to open file
Unable to print IL for DynamicMethodDesc %p
Unable to read memory at %p
Unable to read module %p
Unable to retrieve EEClass
Unable to set breakpoint with IDebugControl::Execute: %x
Unable to walk the managed stack. The current thread is likely not a 
Unable to write heap report
unaligned.
unbox
unbox.any
Unexpected domain count
Unexpected special code %04X
UnhandledExceptionFilter
UNICODE
unittest.exe
UNKNOWN
Unknown Function: %p  Context: %p
unknown Jit
Unknown Jit encountered, ignored
UNKNOWN METHODDESC
Unknown MethodDesc (Module %p, mdToken %08x)
Unknown Module
Unknown option: %s
UNLOAD_REQUESTED
Unmanaged code
UnmapViewOfFile
Unsafe minidump commands are %s.
UnstartedThread: %d
Unsupported token type
unused
UPRSj
u'PWh
UQPXY]Y[
URPQQh
Usage: !bpmd <module name> <managed function name>
Usage: !bpmd -md <MethodDesc pointer>
Usage: !Name2EE module_name item_name
Usage: DumpModule [-mt] <Module Address>
Usage: DumpVC <Method Table> <Value object start addr>
usage: HeapTraverse [-xml] filename
Usage: SaveModule <address> <file to save>
usage: StopOnException [-derived] [-create | -create2] <type name>
Usage: Token2EE module_name mdToken
use an asterisk on the left of the !, but the type on the right side needs
use pseudo-register $t1.
User   CPU time   : %d days %02d:%02d:%02d.%02d
USER32.DLL
UShPh'd
using an Object Pointer from the output of !DumpStackObjects:
UTF-16LE
UTF-8
Uu#Vh
uVh`}'d
v0J1[1|1
Validation was successful
Value
value of all static fields.
VALUEARRAY
ValueClass
VALUETYPE
valuetype 
VAR OR ARG %d
VarFileInfo
-verify
-verify 
Verify DumpDomain functionality: 
Verify DumpDomain functionality: Success
Verify StackWalk: 
Verify that 1) you have a recent build of the debugger (6.2.14 or newer)
Verify that we can list threads: 
Verify that we can list threads: Success
-verify will only produce output if there are errors in the heap
VerifyDAC
Verifyheap
verifyheap
VerifyHeap
VerifyStackTrace
VerQueryValueA
version of sos.dll (typing .load <full path to sos.dll> rather than using the
VERSION.dll
Vh`Q'd
Vh0<'d
Vh0R'd
Vh0z'd
Vh8|'d
VhpH'd
Vht}'d
VhTt'd
viewing the complete call stack when "kb" gets confused. For best results,
Virtual Call Stub Heap:
Virtual Memory    %8d     %8d
VirtualAlloc
VirtualFree
VirtualSize:    %8d KB       PeakVirtualSize:    %8d KB
VMMap
vmmap
vmstat
VMStat
vnffy
volatile.
VPRQh
VQVWh
VRQPh
VS_VERSION_INFO
VSh|y'd
Vtable Slots: %x
VUWQPh
VVVVV
VW|[;
VW|Z;
VWj@3
Wait 
wait until your managed program is running in order to use these commands. If 
Walking heap...
Washington1
Wasted: 0x%x(%lu)bytes.
Wasted: 0x00001000 bytes.
Watson Bucket parameters:
WatsonBuckets
we are at the initialization or shutdown of the gc heap. Commands related to 
We have taken a return address into Mainy.Main, and discovered information 
Weak Long Handles: %d
Weak Long Handles: 0
Weak Short Handles: %d
Weak Short Handles: 1
Wednesday
well as memory usage statistics.
Wh s'd
Wh y'd
Wh(^'d
Wh<y'd
What else can you do with an object? You might run !GCRoot, to determine what 
WhD:,dh
WhdV'd
When called with no parameters, !DumpDomain will list all the AppDomains in the
When called without arguments, !SyncBlk will print the list of SyncBlocks 
When called without options, the output is first a list of objects in the heap,
When creating a minidump without full memory, special functions are called at
when it gets a chance to run.
When you see methods with the name "[Frame:...", that indicates a transition 
Where are we getting these module names from? Run !DumpDomain to see a list of
where possible. The [top stack [bottom stack]] arguments are ignored, but
Whx`'d
WideCharToMultiByte
will be in PreEmptive GC mode. 
will get an error message when running any other commands. A full memory dump
will only produce output if there are errors in the heap:
will provide more details about the CLR, including where mscorwks.dll is 
will replace older ones on threads which have reached their buffer limit.
will show attributes, as well as list the fields of the type. The output is 
Windows Debugger provide a command to make it easy to load the right copy of 
Windows Debugger to unwind the frames, and supplies managed code information
with annotations that convert metadata tokens to names.
With no parameters, !ObjSize lists the size of all objects found on managed 
work properly. !dumpheap and !verifyheap may incorrectly complain of heap 
Work Request in Queue: %d
Worker Thread:
WorkingSetSize: %8d KB       PeakWorkingSetSize: %8d KB
Workstation mode
WqVNHE
WriteConsoleA
WriteConsoleW
WriteFile
Writing %s format to file %s
Writing to file: %s
wrong argument
Wrong option: %s
wrong option: %s
Wrong option: stack selection wrong
WVh|i'd
WVh<C'd
WVPRh\
WWhhZ'd
WWWWV
WWWWW
x(dSSPQ
X:,d^
x|,d;
X<suT
X8\8`8d8h8l8p8t8x8|8
xppwpp
xpxxxx
XXXX 
Y]_^[
Y_^][
Y__^[
YoJ1E
You can also obtain this information with the !EHInfo command.
You can also pass a stack range to limit the output. Use the debugger 
You can also run the debugger command .cordll to control the debugger's
You can break into your process, load SOS, take a snapshot of your heap with 
You can create one with .dump /ma <filename>
You can download the CLR Profiler from this link:
You can find out more about the AppDomain with the !DumpDomain command. Not 
You can get a Module address from !DumpDomain, !DumpAssembly and other 
You can get an EEClass to look at from !DumpMT, !DumpObj, !Name2EE, and 
You can pass "*" for <module name> to find what that token maps to in every
you can see that thread 3 is attempting to acquire the Resource 00a7a1a4, which
You can use "!DumpHeap -thinlock" to list objects locked in this way.
You can use it in three ways: 
You could run !DumpObj on any of those pointers to learn more. In this example,
you get the notation "(nested exceptions)", you can get details on those
you have just started the program a good way to do this is to type 
You might find an object pointer by running !DumpStackObjects and choosing
you would print this output out and read it alongside a disassembly of the 
your application. If you pass the "-xml" flag, the file is instead written out
YYt:V
YYt4V
YYu-9D$
YYuTVWh
z.9Wv
z?aUY
z+d_^[]
zc%C1
